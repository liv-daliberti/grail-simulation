<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html"><link rel="next" title="Prompt Builder API" href="prompt_builder.html"><link rel="prev" title="GRAIL Utilities" href="grail.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>Common Utilities API - GRAIL Simulation documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  --color-brand-primary: #1f4b8e;
  --color-brand-content: #1f4b8e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #8bbcef;
  --color-brand-content: #8bbcef;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #8bbcef;
  --color-brand-content: #8bbcef;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">GRAIL Simulation  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">GRAIL Simulation  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="clean_data.html">Clean Data Pipeline</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="knn.html">KNN Baseline API</a></li>
<li class="toctree-l1"><a class="reference internal" href="xgb.html">XGBoost Baseline API</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpt4o.html">GPT-4o Tools API</a></li>
<li class="toctree-l1"><a class="reference internal" href="grail.html">GRAIL Utilities</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Common Utilities API</a></li>
<li class="toctree-l1"><a class="reference internal" href="prompt_builder.html">Prompt Builder API</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_r1.html">Open-R1 Training API</a></li>
<li class="toctree-l1"><a class="reference internal" href="rlhf.html">Shared RLHF Helpers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization Utilities</a></li>
</ul>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reports/index.html">Reports</a><input aria-label="Toggle navigation of Reports" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../reports/prompt_stats.html">Prompt feature report</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reports/grpo.html">GRPO Reports</a><input aria-label="Toggle navigation of GRPO Reports" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reports/grpo_sample_generative_responses.html">GRPO Sample Generative Model Responses</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reports/grail.html">GRAIL Reports</a><input aria-label="Toggle navigation of GRAIL Reports" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reports/grail_next_video.html">GRAIL Next-Video Baseline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/grail_opinion.html">GRAIL Opinion Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/grail_sample_generative_responses.html">GRAIL Sample Generative Model Responses</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reports/gpt4o.html">GPT-4o Report Catalog</a><input aria-label="Toggle navigation of GPT-4o Report Catalog" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reports/gpt4o_next_video.html">GPT-4o Next-Video Baseline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/gpt4o_opinion.html">GPT-4o Opinion Shift</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/gpt4o_hyperparameter_tuning.html">GPT-4o Hyper-parameter Sweep</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/gpt4o_sample_generative_responses.html">GPT-4o Sample Generative Model Responses</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reports/prompt_builder.html">Prompt Builder Sample Prompts</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../reports/knn.html">KNN Report Catalog</a><input aria-label="Toggle navigation of KNN Report Catalog" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../reports/knn_next_video.html">KNN Next-Video Baseline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/knn_next_video.html#id1">KNN Next-Video Baseline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/knn_opinion.html">KNN Opinion Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/knn_opinion.html#knn-opinion-shift-study">KNN Opinion Shift Study</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/knn_hyperparameter_tuning.html">KNN Hyperparameter Tuning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/knn_hyperparameter_tuning.html#hyper-parameter-sweep-results">Hyper-Parameter Sweep Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/knn_opinion_from_next.html">KNN Opinion Regression (Next-Video Config)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/knn_opinion_from_next.html#knn-opinion-shift-study-next-video-config">KNN Opinion Shift Study (Next-Video Config)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/knn_additional_features.html">KNN Additional Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reports/knn_additional_features.html#additional-text-features">Additional Text Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reports/main.html">Portfolio Comparison (Main)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reports/research_article_political_sciences.html">RESEARCH ARTICLE POLITICAL SCIENCES</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reports/visualized_recommendation_trees.html">Visualized Recommendation Trees</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/api/common.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="common-utilities-api">
<h1>Common Utilities API<a class="headerlink" href="#common-utilities-api" title="Link to this heading">¶</a></h1>
<p>Shared helpers under <a class="reference internal" href="#module-common" title="common"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common</span></code></a> provide reusable logging, text canonicalisation,
title resolution, and safe numerical operations used across the baselines.</p>
<p id="module-common">Convenience exports for commonly shared utility helpers.</p>
<dl class="py class">
<dt class="sig sig-object py" id="common.OpinionStudySelection">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">OpinionStudySelection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcome</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/pipeline/utils.html#OpinionStudySelection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.OpinionStudySelection" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">common.pipeline.utils.StudyT</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">common.pipeline.utils.OutcomeT</span></code>]</p>
<p>Pair a study descriptor with the selected outcome for that study.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>study</strong> (<em>common.pipeline.utils.StudyT</em>)</p></li>
<li><p><strong>outcome</strong> (<em>common.pipeline.utils.OutcomeT</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="common.OpinionStudySelection.config">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#common.OpinionStudySelection.config" title="Link to this definition">¶</a></dt>
<dd><p>Return the configuration object associated with the selection.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.OpinionStudySelection.outcome">
<span class="sig-name descname"><span class="pre">outcome</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">common.pipeline.utils.OutcomeT</span></em><a class="headerlink" href="#common.OpinionStudySelection.outcome" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.OpinionStudySelection.study">
<span class="sig-name descname"><span class="pre">study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">common.pipeline.utils.StudyT</span></em><a class="headerlink" href="#common.OpinionStudySelection.study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.add_comma_separated_argument">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">add_comma_separated_argument</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">flags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help_text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/cli/args.html#add_comma_separated_argument"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.add_comma_separated_argument" title="Link to this definition">¶</a></dt>
<dd><p>Register a comma-separated argument with consistent flag aliases.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parser</strong> (<em>argparse.ArgumentParser</em>) – Argument parser being extended.</p></li>
<li><p><strong>flags</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>str</em>) – Flag alias or aliases forwarded to <code class="xref py py-func docutils literal notranslate"><span class="pre">argparse.ArgumentParser.add_argument()</span></code>.</p></li>
<li><p><strong>dest</strong> (<em>str</em>) – Destination attribute populated on the parsed namespace.</p></li>
<li><p><strong>help_text</strong> (<em>str</em>) – Help message displayed in <code class="docutils literal notranslate"><span class="pre">--help</span></code> output.</p></li>
<li><p><strong>default</strong> (<em>str</em>) – Default comma-separated value assigned when the flag is omitted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.add_sentence_transformer_normalise_flags">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">add_sentence_transformer_normalise_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sentence_transformer_normalize'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('--sentence-transformer-normalize',)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_flags</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('--sentence-transformer-no-normalize',)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_help</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Enable</span> <span class="pre">L2-normalisation</span> <span class="pre">for</span> <span class="pre">sentence-transformer</span> <span class="pre">embeddings</span> <span class="pre">(default).'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disable_help</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Disable</span> <span class="pre">L2-normalisation</span> <span class="pre">for</span> <span class="pre">sentence-transformer</span> <span class="pre">embeddings.'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/cli/args.html#add_sentence_transformer_normalise_flags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.add_sentence_transformer_normalise_flags" title="Link to this definition">¶</a></dt>
<dd><p>Add paired boolean flags controlling sentence-transformer normalisation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parser</strong> (<em>argparse.ArgumentParser</em>) – Argument parser receiving the paired flags.</p></li>
<li><p><strong>dest</strong> (<em>str</em>) – Name of the boolean attribute stored on the parsed namespace.</p></li>
<li><p><strong>default</strong> (<em>bool</em>) – Default value applied via <code class="xref py py-func docutils literal notranslate"><span class="pre">argparse.ArgumentParser.set_defaults()</span></code>.</p></li>
<li><p><strong>enable_flags</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>str</em>) – CLI flags that enable normalisation when provided.</p></li>
<li><p><strong>disable_flags</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>str</em>) – CLI flags that disable normalisation when provided.</p></li>
<li><p><strong>enable_help</strong> (<em>str</em>) – Help string describing the enabling behaviour.</p></li>
<li><p><strong>disable_help</strong> (<em>str</em>) – Help string describing the disabling behaviour.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.build_opinion_example">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">build_opinion_example</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#build_opinion_example"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.build_opinion_example" title="Link to this definition">¶</a></dt>
<dd><p>Construct an opinion example instance using the provided factory callable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spec</strong> (<a class="reference internal" href="#common.opinion.OpinionSpec" title="common.opinion.OpinionSpec"><em>OpinionSpec</em></a>) – Opinion specification describing the study identifiers.</p></li>
<li><p><strong>factory</strong> (<em>Callable</em><em>[</em><em>...</em><em>, </em><em>ExampleT</em><em>]</em>) – Callable (usually a dataclass) used to instantiate the example.</p></li>
<li><p><strong>inputs</strong> (<a class="reference internal" href="#common.opinion.OpinionExampleInputs" title="common.opinion.OpinionExampleInputs"><em>OpinionExampleInputs</em></a>) – Structured collection of participant identifiers and values.</p></li>
<li><p><strong>extra_fields</strong> (<em>object</em>) – Additional keyword arguments forwarded to <code class="docutils literal notranslate"><span class="pre">factory</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance created by <code class="docutils literal notranslate"><span class="pre">factory</span></code> populated with shared fields.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ExampleT</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.canon_text">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">canon_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/utils.html#canon_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.canon_text" title="Link to this definition">¶</a></dt>
<dd><p>Return a lowercased alphanumeric representation of <code class="docutils literal notranslate"><span class="pre">text</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<em>str</em><em> | </em><em>None</em>) – Input string to normalise.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Canonical token containing only lowercase alphanumeric characters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.canon_video_id">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">canon_video_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/utils.html#canon_video_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.canon_video_id" title="Link to this definition">¶</a></dt>
<dd><p>Extract a canonical YouTube id from <code class="docutils literal notranslate"><span class="pre">value</span></code> when possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>object</em><em> | </em><em>None</em>) – Raw video identifier or URL.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>11-character YouTube ID or an empty string when unavailable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.create_tfidf_vectorizer">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">create_tfidf_vectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/vectorizers.html#create_tfidf_vectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.create_tfidf_vectorizer" title="Link to this definition">¶</a></dt>
<dd><p>Return a TF-IDF vectoriser configured with shared defaults.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>max_features</strong> (<em>int</em><em> | </em><em>None</em>) – Optional cap on the vocabulary size used for training.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.feature_extraction.text.TfidfVectorizer</span></code>.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ImportError</strong> – If scikit-learn is not installed.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>sklearn.feature_extraction.text.TfidfVectorizer</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.ensure_directory">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">ensure_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/logging/utils.html#ensure_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.ensure_directory" title="Link to this definition">¶</a></dt>
<dd><p>Create <code class="docutils literal notranslate"><span class="pre">path</span></code> (including parents) when it does not already exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>pathlib.Path</em><em> | </em><em>str</em>) – Target directory to ensure.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.get_logger">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">get_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/logging/utils.html#get_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.get_logger" title="Link to this definition">¶</a></dt>
<dd><p>Return a memoised logger configured with a simple stream handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name registered on the logger.</p></li>
<li><p><strong>level</strong> (<em>int</em>) – Log level applied when initialising the logger.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Configured logger instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>logging.Logger</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.merge_ordered">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">merge_ordered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cached</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">executed</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/pipeline/utils.html#merge_ordered"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.merge_ordered" title="Link to this definition">¶</a></dt>
<dd><p>Merge cached and freshly executed results while preserving order indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cached</strong> (<em>Sequence</em><em>[</em><em>T</em><em>]</em>) – Previously materialised results (e.g., metrics read from disk).</p></li>
<li><p><strong>executed</strong> (<em>Sequence</em><em>[</em><em>T</em><em>]</em>) – Newly computed results from the current run.</p></li>
<li><p><strong>order_key</strong> (<em>Callable</em><em>[</em><em>[</em><em>T</em><em>]</em><em>, </em><em>int</em><em>]</em>) – Callable returning a deterministic integer position for each result.</p></li>
<li><p><strong>on_replace</strong> (<em>Callable</em><em>[</em><em>[</em><em>T</em><em>, </em><em>T</em><em>]</em><em>, </em><em>None</em><em>] </em><em>| </em><em>None</em>) – Optional callback invoked when <code class="docutils literal notranslate"><span class="pre">executed</span></code> replaces <code class="docutils literal notranslate"><span class="pre">cached</span></code> at an index.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Combined results ordered by <code class="docutils literal notranslate"><span class="pre">order_key</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[T]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion_example_kwargs">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">opinion_example_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#opinion_example_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion_example_kwargs" title="Link to this definition">¶</a></dt>
<dd><p>Return keyword arguments common to opinion example dataclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_id</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">participant_id</span></code>.</p></li>
<li><p><strong>participant_study</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">participant_study</span></code>.</p></li>
<li><p><strong>issue</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">issue</span></code>.</p></li>
<li><p><strong>document</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">document</span></code>.</p></li>
<li><p><strong>before</strong> (<em>float</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">before</span></code>.</p></li>
<li><p><strong>after</strong> (<em>float</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">after</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Result produced by <code class="docutils literal notranslate"><span class="pre">opinion_example_kwargs</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, object]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.resolve_paths_from_env">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">resolve_paths_from_env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_names</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/utils.html#resolve_paths_from_env"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.resolve_paths_from_env" title="Link to this definition">¶</a></dt>
<dd><p>Aggregate filesystem paths from the given environment variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>variable_names</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Iterable of environment variable names to read.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Combined list of resolved filesystem paths.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.safe_div">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">safe_div</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numerator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">denominator</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/utils.html#safe_div"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.safe_div" title="Link to this definition">¶</a></dt>
<dd><p>Return the division result while guarding against a zero denominator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numerator</strong> (<em>float</em>) – Value forming the numerator.</p></li>
<li><p><strong>denominator</strong> (<em>float</em>) – Value forming the denominator.</p></li>
<li><p><strong>default</strong> (<em>float</em>) – Fallback returned when <code class="docutils literal notranslate"><span class="pre">denominator</span></code> is zero.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Division result or <code class="docutils literal notranslate"><span class="pre">default</span></code> when the denominator is zero.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.split_env_list">
<span class="sig-prename descclassname"><span class="pre">common.</span></span><span class="sig-name descname"><span class="pre">split_env_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/utils.html#split_env_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.split_env_list" title="Link to this definition">¶</a></dt>
<dd><p>Parse colon/comma/space separated environment list values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>str</em><em> | </em><em>None</em>) – Raw environment variable string.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of non-empty tokens extracted from <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<p id="module-common.logging.utils">Convenience wrappers for pipeline logging and filesystem setup.</p>
<dl class="py function">
<dt class="sig sig-object py" id="common.logging.utils.ensure_directory">
<span class="sig-prename descclassname"><span class="pre">common.logging.utils.</span></span><span class="sig-name descname"><span class="pre">ensure_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/logging/utils.html#ensure_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.logging.utils.ensure_directory" title="Link to this definition">¶</a></dt>
<dd><p>Create <code class="docutils literal notranslate"><span class="pre">path</span></code> (including parents) when it does not already exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>pathlib.Path</em><em> | </em><em>str</em>) – Target directory to ensure.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.logging.utils.get_logger">
<span class="sig-prename descclassname"><span class="pre">common.logging.utils.</span></span><span class="sig-name descname"><span class="pre">get_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/logging/utils.html#get_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.logging.utils.get_logger" title="Link to this definition">¶</a></dt>
<dd><p>Return a memoised logger configured with a simple stream handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name registered on the logger.</p></li>
<li><p><strong>level</strong> (<em>int</em>) – Log level applied when initialising the logger.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Configured logger instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>logging.Logger</p>
</dd>
</dl>
</dd></dl>

<p id="module-common.text">Aggregated exports for shared text utilities.</p>
<dl class="py function">
<dt class="sig sig-object py" id="common.text.canon_text">
<span class="sig-prename descclassname"><span class="pre">common.text.</span></span><span class="sig-name descname"><span class="pre">canon_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/utils.html#canon_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.canon_text" title="Link to this definition">¶</a></dt>
<dd><p>Return a lowercased alphanumeric representation of <code class="docutils literal notranslate"><span class="pre">text</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<em>str</em><em> | </em><em>None</em>) – Input string to normalise.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Canonical token containing only lowercase alphanumeric characters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.text.canon_video_id">
<span class="sig-prename descclassname"><span class="pre">common.text.</span></span><span class="sig-name descname"><span class="pre">canon_video_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/utils.html#canon_video_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.canon_video_id" title="Link to this definition">¶</a></dt>
<dd><p>Extract a canonical YouTube id from <code class="docutils literal notranslate"><span class="pre">value</span></code> when possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>object</em><em> | </em><em>None</em>) – Raw video identifier or URL.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>11-character YouTube ID or an empty string when unavailable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.text.create_tfidf_vectorizer">
<span class="sig-prename descclassname"><span class="pre">common.text.</span></span><span class="sig-name descname"><span class="pre">create_tfidf_vectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/vectorizers.html#create_tfidf_vectorizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.create_tfidf_vectorizer" title="Link to this definition">¶</a></dt>
<dd><p>Return a TF-IDF vectoriser configured with shared defaults.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>max_features</strong> (<em>int</em><em> | </em><em>None</em>) – Optional cap on the vocabulary size used for training.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.feature_extraction.text.TfidfVectorizer</span></code>.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ImportError</strong> – If scikit-learn is not installed.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>sklearn.feature_extraction.text.TfidfVectorizer</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.text.resolve_paths_from_env">
<span class="sig-prename descclassname"><span class="pre">common.text.</span></span><span class="sig-name descname"><span class="pre">resolve_paths_from_env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable_names</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/utils.html#resolve_paths_from_env"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.resolve_paths_from_env" title="Link to this definition">¶</a></dt>
<dd><p>Aggregate filesystem paths from the given environment variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>variable_names</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Iterable of environment variable names to read.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Combined list of resolved filesystem paths.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.text.split_env_list">
<span class="sig-prename descclassname"><span class="pre">common.text.</span></span><span class="sig-name descname"><span class="pre">split_env_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/utils.html#split_env_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.split_env_list" title="Link to this definition">¶</a></dt>
<dd><p>Parse colon/comma/space separated environment list values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>str</em><em> | </em><em>None</em>) – Raw environment variable string.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of non-empty tokens extracted from <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<p id="module-common.text.title_index">Lookup utilities for resolving YouTube titles from CSV indices.</p>
<dl class="py class">
<dt class="sig sig-object py" id="common.text.title_index.TitleResolver">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.text.title_index.</span></span><span class="sig-name descname"><span class="pre">TitleResolver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'title-index'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/title_index.html#TitleResolver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.title_index.TitleResolver" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Resolve YouTube ids to titles by scanning configured CSV sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_default_dirs</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – Fallback directories searched for metadata CSV files.</p></li>
<li><p><strong>_env_csv_var</strong> (<em>str</em>) – Environment variable that lists explicit CSV paths.</p></li>
<li><p><strong>_env_dirs_var</strong> (<em>str</em>) – Environment variable enumerating directories to search.</p></li>
<li><p><strong>_env_glob_var</strong> (<em>str</em>) – Environment variable providing glob patterns.</p></li>
<li><p><strong>_index</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>None</em>) – Cached mapping of video ids to titles once loaded.</p></li>
<li><p><strong>_logger</strong> (<em>logging.Logger</em>) – Logger instance used for diagnostic output.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>default_dirs</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>env</strong> (<a class="reference internal" href="#common.text.title_index.TitleResolverEnvConfig" title="common.text.title_index.TitleResolverEnvConfig"><em>TitleResolverEnvConfig</em></a><em> | </em><em>None</em>)</p></li>
<li><p><strong>logger_name</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="common.text.title_index.TitleResolver.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'title-index'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/title_index.html#TitleResolver.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.title_index.TitleResolver.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Create a new <a class="reference internal" href="#common.text.title_index.TitleResolver" title="common.text.title_index.TitleResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">TitleResolver</span></code></a> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default_dirs</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Optional list of fallback directories searched for CSVs.</p></li>
<li><p><strong>env</strong> (<a class="reference internal" href="#common.text.title_index.TitleResolverEnvConfig" title="common.text.title_index.TitleResolverEnvConfig"><em>common.text.title_index.TitleResolverEnvConfig</em></a><em> | </em><em>None</em>) – Environment-variable configuration used while discovering CSVs.</p></li>
<li><p><strong>logger_name</strong> (<em>str</em>) – Logger name used for diagnostic output.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.text.title_index.TitleResolver.resolve">
<span class="sig-name descname"><span class="pre">resolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/title_index.html#TitleResolver.resolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.title_index.TitleResolver.resolve" title="Link to this definition">¶</a></dt>
<dd><p>Return a title for the provided video id when available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>video_id</strong> (<em>str</em><em> | </em><em>None</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">video_id</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Result produced by <code class="docutils literal notranslate"><span class="pre">resolve</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.text.title_index.TitleResolverEnvConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.text.title_index.</span></span><span class="sig-name descname"><span class="pre">TitleResolverEnvConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csv_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GRAIL_TITLE_CSVS'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirs_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GRAIL_TITLE_DIRS'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">glob_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GRAIL_TITLE_GLOB'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/title_index.html#TitleResolverEnvConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.title_index.TitleResolverEnvConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Environment variable names used when sourcing title CSVs.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>csv_var</strong> (<em>str</em>) – Attribute <code class="docutils literal notranslate"><span class="pre">csv_var</span></code>.</p></li>
<li><p><strong>dirs_var</strong> (<em>str</em>) – Attribute <code class="docutils literal notranslate"><span class="pre">dirs_var</span></code>.</p></li>
<li><p><strong>glob_var</strong> (<em>str</em>) – Attribute <code class="docutils literal notranslate"><span class="pre">glob_var</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>csv_var</strong> (<em>str</em>)</p></li>
<li><p><strong>dirs_var</strong> (<em>str</em>)</p></li>
<li><p><strong>glob_var</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.text.title_index.TitleResolverEnvConfig.csv_var">
<span class="sig-name descname"><span class="pre">csv_var</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'GRAIL_TITLE_CSVS'</span></em><a class="headerlink" href="#common.text.title_index.TitleResolverEnvConfig.csv_var" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.text.title_index.TitleResolverEnvConfig.dirs_var">
<span class="sig-name descname"><span class="pre">dirs_var</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'GRAIL_TITLE_DIRS'</span></em><a class="headerlink" href="#common.text.title_index.TitleResolverEnvConfig.dirs_var" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.text.title_index.TitleResolverEnvConfig.glob_var">
<span class="sig-name descname"><span class="pre">glob_var</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'GRAIL_TITLE_GLOB'</span></em><a class="headerlink" href="#common.text.title_index.TitleResolverEnvConfig.glob_var" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<p id="module-common.text.embeddings">SentenceTransformer configuration and encoding helpers used in pipelines.</p>
<dl class="py class">
<dt class="sig sig-object py" id="common.text.embeddings.SentenceTransformerConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.text.embeddings.</span></span><span class="sig-name descname"><span class="pre">SentenceTransformerConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sentence-transformers/all-mpnet-base-v2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/embeddings.html#SentenceTransformerConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.embeddings.SentenceTransformerConfig" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Runtime options controlling SentenceTransformer inference.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_name</strong> (<em>str</em>)</p></li>
<li><p><strong>device</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>batch_size</strong> (<em>int</em>)</p></li>
<li><p><strong>normalize</strong> (<em>bool</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.text.embeddings.SentenceTransformerConfig.batch_size">
<span class="sig-name descname"><span class="pre">batch_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">32</span></em><a class="headerlink" href="#common.text.embeddings.SentenceTransformerConfig.batch_size" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.text.embeddings.SentenceTransformerConfig.device">
<span class="sig-name descname"><span class="pre">device</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.text.embeddings.SentenceTransformerConfig.device" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.text.embeddings.SentenceTransformerConfig.model_name">
<span class="sig-name descname"><span class="pre">model_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'sentence-transformers/all-mpnet-base-v2'</span></em><a class="headerlink" href="#common.text.embeddings.SentenceTransformerConfig.model_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.text.embeddings.SentenceTransformerConfig.normalize">
<span class="sig-name descname"><span class="pre">normalize</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#common.text.embeddings.SentenceTransformerConfig.normalize" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.text.embeddings.SentenceTransformerEncoder">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.text.embeddings.</span></span><span class="sig-name descname"><span class="pre">SentenceTransformerEncoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/embeddings.html#SentenceTransformerEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.embeddings.SentenceTransformerEncoder" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Thin wrapper over <code class="docutils literal notranslate"><span class="pre">sentence_transformers</span></code> with lazy loading.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<a class="reference internal" href="#common.text.embeddings.SentenceTransformerConfig" title="common.text.embeddings.SentenceTransformerConfig"><em>SentenceTransformerConfig</em></a>) – Runtime configuration controlling inference behaviour.</p></li>
<li><p><strong>_model</strong> (<em>SentenceTransformer</em><em> | </em><em>None</em>) – Lazily initialised SentenceTransformer instance (<code class="docutils literal notranslate"><span class="pre">None</span></code> until used).</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>config</strong> (<a class="reference internal" href="#common.text.embeddings.SentenceTransformerConfig" title="common.text.embeddings.SentenceTransformerConfig"><em>SentenceTransformerConfig</em></a>)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="common.text.embeddings.SentenceTransformerEncoder.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/embeddings.html#SentenceTransformerEncoder.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.embeddings.SentenceTransformerEncoder.__init__" title="Link to this definition">¶</a></dt>
<dd><p>Initialise the encoder with runtime configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<a class="reference internal" href="#common.text.embeddings.SentenceTransformerConfig" title="common.text.embeddings.SentenceTransformerConfig"><em>SentenceTransformerConfig</em></a>) – Behavioural options used when loading and invoking the model.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.text.embeddings.SentenceTransformerEncoder.embedding_dimension">
<span class="sig-name descname"><span class="pre">embedding_dimension</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/embeddings.html#SentenceTransformerEncoder.embedding_dimension"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.embeddings.SentenceTransformerEncoder.embedding_dimension" title="Link to this definition">¶</a></dt>
<dd><p>Return the dimensionality of the produced embeddings.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of features emitted by the underlying encoder.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.text.embeddings.SentenceTransformerEncoder.encode">
<span class="sig-name descname"><span class="pre">encode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/embeddings.html#SentenceTransformerEncoder.encode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.embeddings.SentenceTransformerEncoder.encode" title="Link to this definition">¶</a></dt>
<dd><p>Encode a batch of texts into dense embeddings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>texts</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) – Sequence of documents to embed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Matrix of shape <code class="docutils literal notranslate"><span class="pre">(len(texts),</span> <span class="pre">embedding_dimension)</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.text.embeddings.sentence_transformer_config_from_args">
<span class="sig-prename descclassname"><span class="pre">common.text.embeddings.</span></span><span class="sig-name descname"><span class="pre">sentence_transformer_config_from_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/text/embeddings.html#sentence_transformer_config_from_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.text.embeddings.sentence_transformer_config_from_args" title="Link to this definition">¶</a></dt>
<dd><p>Build a <a class="reference internal" href="#common.text.embeddings.SentenceTransformerConfig" title="common.text.embeddings.SentenceTransformerConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">SentenceTransformerConfig</span></code></a> from CLI-style arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>args</strong> (<em>Any</em>) – Object exposing attributes for the relevant CLI options.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Populated SentenceTransformer configuration.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#common.text.embeddings.SentenceTransformerConfig" title="common.text.embeddings.SentenceTransformerConfig">common.text.embeddings.SentenceTransformerConfig</a></p>
</dd>
</dl>
</dd></dl>

<section id="module-common.evaluation.slate_eval">
<span id="evaluation-utilities"></span><h2>Evaluation Utilities<a class="headerlink" href="#module-common.evaluation.slate_eval" title="Link to this heading">¶</a></h2>
<p>Shared slate-evaluation data structures and helpers.</p>
<p>The KNN, GPT-4o, and other slate-ranking baselines compute identical aggregate
metrics over per-example observations (accuracy, formatting rate, bucketed
breakdowns, etc.).  Keeping the accumulator logic in this module reduces code
duplication across the individual baselines.</p>
<dl class="py class">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.evaluation.slate_eval.</span></span><span class="sig-name descname"><span class="pre">BucketAccumulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seen=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eligible=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatted=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#BucketAccumulator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Accumulate per-bucket evaluation counts used to compute rates.</p>
<p>Tracks counts for each bucket key:
- <code class="docutils literal notranslate"><span class="pre">seen</span></code>: Total examples observed.
- <code class="docutils literal notranslate"><span class="pre">eligible</span></code>: Examples considered eligible for accuracy (valid gold/option count).
- <code class="docutils literal notranslate"><span class="pre">correct</span></code>: Eligible examples predicted correctly.
- <code class="docutils literal notranslate"><span class="pre">parsed</span></code>: Model outputs that could be parsed into an index.
- <code class="docutils literal notranslate"><span class="pre">formatted</span></code>: Model outputs that included the expected answer tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seen</strong> (<em>collections.Counter</em><em>[</em><em>str</em><em>]</em>)</p></li>
<li><p><strong>eligible</strong> (<em>collections.Counter</em><em>[</em><em>str</em><em>]</em>)</p></li>
<li><p><strong>correct</strong> (<em>collections.Counter</em><em>[</em><em>str</em><em>]</em>)</p></li>
<li><p><strong>parsed</strong> (<em>collections.Counter</em><em>[</em><em>str</em><em>]</em>)</p></li>
<li><p><strong>formatted</strong> (<em>collections.Counter</em><em>[</em><em>str</em><em>]</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">collections.Counter</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.correct" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.eligible">
<span class="sig-name descname"><span class="pre">eligible</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">collections.Counter</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.eligible" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.formatted">
<span class="sig-name descname"><span class="pre">formatted</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">collections.Counter</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.formatted" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.histogram">
<span class="sig-name descname"><span class="pre">histogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#BucketAccumulator.histogram"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.histogram" title="Link to this definition">¶</a></dt>
<dd><p>Return integer histogram for the requested attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) – Ordered list of buckets to include.</p></li>
<li><p><strong>attr</strong> (<em>str</em>) – Name of the counter attribute to read (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;seen&quot;</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Mapping of bucket key to integer count.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Dict</em>[str, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.parsed">
<span class="sig-name descname"><span class="pre">parsed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">collections.Counter</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.parsed" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.ratio">
<span class="sig-name descname"><span class="pre">ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">numerator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">denominator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#BucketAccumulator.ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.ratio" title="Link to this definition">¶</a></dt>
<dd><p>Return ratios for <code class="docutils literal notranslate"><span class="pre">numerator</span></code> divided by <code class="docutils literal notranslate"><span class="pre">denominator</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>numerator</strong> (<em>str</em>) – Counter attribute used as the numerator.</p></li>
<li><p><strong>denominator</strong> (<em>str</em>) – Counter attribute used as the denominator.</p></li>
<li><p><strong>order</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) – Ordered list of buckets to include in the output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Mapping of bucket key to ratio value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Dict</em>[str, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.record_correct">
<span class="sig-name descname"><span class="pre">record_correct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#BucketAccumulator.record_correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.record_correct" title="Link to this definition">¶</a></dt>
<dd><p>Increment the correct counter for <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – Bucket identifier being updated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.record_eligible">
<span class="sig-name descname"><span class="pre">record_eligible</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#BucketAccumulator.record_eligible"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.record_eligible" title="Link to this definition">¶</a></dt>
<dd><p>Increment the eligible counter for <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – Bucket identifier being updated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.record_formatted">
<span class="sig-name descname"><span class="pre">record_formatted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#BucketAccumulator.record_formatted"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.record_formatted" title="Link to this definition">¶</a></dt>
<dd><p>Increment the correctly formatted counter for <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – Bucket identifier being updated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.record_parsed">
<span class="sig-name descname"><span class="pre">record_parsed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#BucketAccumulator.record_parsed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.record_parsed" title="Link to this definition">¶</a></dt>
<dd><p>Increment the parsed counter for <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – Bucket identifier being updated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.record_seen">
<span class="sig-name descname"><span class="pre">record_seen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#BucketAccumulator.record_seen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.record_seen" title="Link to this definition">¶</a></dt>
<dd><p>Increment the seen counter for <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em>) – Bucket identifier being updated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.seen">
<span class="sig-name descname"><span class="pre">seen</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">collections.Counter</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.seen" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.BucketAccumulator.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#BucketAccumulator.summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.BucketAccumulator.summary" title="Link to this definition">¶</a></dt>
<dd><p>Return aggregated metrics per bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Optional explicit ordering for bucket keys.</p></li>
<li><p><strong>skip_empty</strong> (<em>bool</em>) – When <code class="docutils literal notranslate"><span class="pre">True</span></code> omit buckets with zero observations.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Mapping from bucket to aggregate counts and rates.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Dict</em>[str, <em>Dict</em>[str, float | int]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.evaluation.slate_eval.</span></span><span class="sig-name descname"><span class="pre">EvaluationAccumulator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_seen=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_ok=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_ok=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eligible_overall=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct_overall=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seen_single=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seen_multi=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eligible_single=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eligible_multi=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct_single=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct_multi=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_multi=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatted_multi=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gold_hist=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_gold_indices=&lt;factory&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option_counts=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationAccumulator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Stateful accumulator tracking evaluation metrics across examples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>position</strong> (<a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator" title="common.evaluation.slate_eval.BucketAccumulator"><em>common.evaluation.slate_eval.BucketAccumulator</em></a>)</p></li>
<li><p><strong>options</strong> (<a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator" title="common.evaluation.slate_eval.BucketAccumulator"><em>common.evaluation.slate_eval.BucketAccumulator</em></a>)</p></li>
<li><p><strong>issue</strong> (<a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator" title="common.evaluation.slate_eval.BucketAccumulator"><em>common.evaluation.slate_eval.BucketAccumulator</em></a>)</p></li>
<li><p><strong>study</strong> (<a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator" title="common.evaluation.slate_eval.BucketAccumulator"><em>common.evaluation.slate_eval.BucketAccumulator</em></a>)</p></li>
<li><p><strong>total_seen</strong> (<em>int</em>)</p></li>
<li><p><strong>format_ok</strong> (<em>int</em>)</p></li>
<li><p><strong>parsed_ok</strong> (<em>int</em>)</p></li>
<li><p><strong>eligible_overall</strong> (<em>int</em>)</p></li>
<li><p><strong>correct_overall</strong> (<em>int</em>)</p></li>
<li><p><strong>seen_single</strong> (<em>int</em>)</p></li>
<li><p><strong>seen_multi</strong> (<em>int</em>)</p></li>
<li><p><strong>eligible_single</strong> (<em>int</em>)</p></li>
<li><p><strong>eligible_multi</strong> (<em>int</em>)</p></li>
<li><p><strong>correct_single</strong> (<em>int</em>)</p></li>
<li><p><strong>correct_multi</strong> (<em>int</em>)</p></li>
<li><p><strong>parsed_multi</strong> (<em>int</em>)</p></li>
<li><p><strong>formatted_multi</strong> (<em>int</em>)</p></li>
<li><p><strong>gold_hist</strong> (<em>collections.Counter</em><em>[</em><em>int</em><em>]</em>)</p></li>
<li><p><strong>all_gold_indices</strong> (<em>list</em><em>[</em><em>int</em><em>]</em>)</p></li>
<li><p><strong>option_counts</strong> (<em>list</em><em>[</em><em>int</em><em>]</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.accuracy">
<span class="sig-name descname"><span class="pre">accuracy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationAccumulator.accuracy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.accuracy" title="Link to this definition">¶</a></dt>
<dd><p>Return overall accuracy computed over eligible examples.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.all_gold_indices">
<span class="sig-name descname"><span class="pre">all_gold_indices</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.all_gold_indices" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.baseline_metrics">
<span class="sig-name descname"><span class="pre">baseline_metrics</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationAccumulator.baseline_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.baseline_metrics" title="Link to this definition">¶</a></dt>
<dd><p>Return gold index distribution and baseline accuracies.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[<em>Dict</em>[str, int], <em>Dict</em>[str, <em>Any</em>], float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.correct_multi">
<span class="sig-name descname"><span class="pre">correct_multi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.correct_multi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.correct_overall">
<span class="sig-name descname"><span class="pre">correct_overall</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.correct_overall" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.correct_single">
<span class="sig-name descname"><span class="pre">correct_single</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.correct_single" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.eligible_multi">
<span class="sig-name descname"><span class="pre">eligible_multi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.eligible_multi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.eligible_overall">
<span class="sig-name descname"><span class="pre">eligible_overall</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.eligible_overall" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.eligible_single">
<span class="sig-name descname"><span class="pre">eligible_single</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.eligible_single" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.format_ok">
<span class="sig-name descname"><span class="pre">format_ok</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.format_ok" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.format_rate">
<span class="sig-name descname"><span class="pre">format_rate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationAccumulator.format_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.format_rate" title="Link to this definition">¶</a></dt>
<dd><p>Return rate of outputs that matched the expected format.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.formatted_multi">
<span class="sig-name descname"><span class="pre">formatted_multi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.formatted_multi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.gold_hist">
<span class="sig-name descname"><span class="pre">gold_hist</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">collections.Counter</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.gold_hist" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.group_summary">
<span class="sig-name descname"><span class="pre">group_summary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationAccumulator.group_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.group_summary" title="Link to this definition">¶</a></dt>
<dd><p>Return per-issue and per-study aggregates.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Dict</em>[str, <em>Dict</em>[str, <em>Dict</em>[str, float | int]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.issue">
<span class="sig-name descname"><span class="pre">issue</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator" title="common.evaluation.slate_eval.BucketAccumulator"><span class="pre">common.evaluation.slate_eval.BucketAccumulator</span></a></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.issue" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.metrics_payload">
<span class="sig-name descname"><span class="pre">metrics_payload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationAccumulator.metrics_payload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.metrics_payload" title="Link to this definition">¶</a></dt>
<dd><p>Return the metrics blob written to disk after evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> (<a class="reference internal" href="#common.evaluation.slate_eval.SlateMetricsRequest" title="common.evaluation.slate_eval.SlateMetricsRequest"><em>common.evaluation.slate_eval.SlateMetricsRequest</em></a>) – Request metadata describing the evaluation run.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Serializable dictionary persisted to reporting artefacts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Dict</em>[str, <em>Any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.observe">
<span class="sig-name descname"><span class="pre">observe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationAccumulator.observe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.observe" title="Link to this definition">¶</a></dt>
<dd><p>Update aggregates for a single example observation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obs</strong> (<a class="reference internal" href="#common.evaluation.slate_eval.Observation" title="common.evaluation.slate_eval.Observation"><em>common.evaluation.slate_eval.Observation</em></a>) – Observation containing per-example evaluation data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.option_counts">
<span class="sig-name descname"><span class="pre">option_counts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.option_counts" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.options">
<span class="sig-name descname"><span class="pre">options</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator" title="common.evaluation.slate_eval.BucketAccumulator"><span class="pre">common.evaluation.slate_eval.BucketAccumulator</span></a></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.options" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.options_summary">
<span class="sig-name descname"><span class="pre">options_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationAccumulator.options_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.options_summary" title="Link to this definition">¶</a></dt>
<dd><p>Return aggregated option-count metrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>order</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) – Desired ordering of option-count buckets.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Mapping containing histograms and ratio metrics by bucket.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Dict</em>[str, <em>Any</em>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.parsed_multi">
<span class="sig-name descname"><span class="pre">parsed_multi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.parsed_multi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.parsed_ok">
<span class="sig-name descname"><span class="pre">parsed_ok</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.parsed_ok" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.parsed_rate">
<span class="sig-name descname"><span class="pre">parsed_rate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationAccumulator.parsed_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.parsed_rate" title="Link to this definition">¶</a></dt>
<dd><p>Return rate of successfully parsed completions.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.position">
<span class="sig-name descname"><span class="pre">position</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator" title="common.evaluation.slate_eval.BucketAccumulator"><span class="pre">common.evaluation.slate_eval.BucketAccumulator</span></a></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.position" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.position_summary">
<span class="sig-name descname"><span class="pre">position_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationAccumulator.position_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.position_summary" title="Link to this definition">¶</a></dt>
<dd><p>Return aggregated position metrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>order</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) – Desired ordering of position buckets.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Mapping of bucket names to aggregate counts and rates.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Dict</em>[str, <em>Dict</em>[str, float | int]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.seen_multi">
<span class="sig-name descname"><span class="pre">seen_multi</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.seen_multi" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.seen_single">
<span class="sig-name descname"><span class="pre">seen_single</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.seen_single" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.single_multi_summary">
<span class="sig-name descname"><span class="pre">single_multi_summary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationAccumulator.single_multi_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.single_multi_summary" title="Link to this definition">¶</a></dt>
<dd><p>Return metrics comparing single-option and multi-option prompts.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Dict</em>[str, float | int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.study">
<span class="sig-name descname"><span class="pre">study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator" title="common.evaluation.slate_eval.BucketAccumulator"><span class="pre">common.evaluation.slate_eval.BucketAccumulator</span></a></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationAccumulator.total_seen">
<span class="sig-name descname"><span class="pre">total_seen</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationAccumulator.total_seen" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationFilters">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.evaluation.slate_eval.</span></span><span class="sig-name descname"><span class="pre">EvaluationFilters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">issues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">studies</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#EvaluationFilters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationFilters" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Filter selections applied during evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>issues</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>)</p></li>
<li><p><strong>studies</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationFilters.issues">
<span class="sig-name descname"><span class="pre">issues</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationFilters.issues" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.EvaluationFilters.studies">
<span class="sig-name descname"><span class="pre">studies</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.evaluation.slate_eval.EvaluationFilters.studies" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.Observation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.evaluation.slate_eval.</span></span><span class="sig-name descname"><span class="pre">Observation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">issue_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position_bucket</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option_bucket</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gold_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsed_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_formatted</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eligible</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_correct</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#Observation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.Observation" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Snapshot of a single evaluation example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>issue_label</strong> (<em>str</em>)</p></li>
<li><p><strong>study_label</strong> (<em>str</em>)</p></li>
<li><p><strong>position_bucket</strong> (<em>str</em>)</p></li>
<li><p><strong>option_bucket</strong> (<em>str</em>)</p></li>
<li><p><strong>option_count</strong> (<em>int</em>)</p></li>
<li><p><strong>gold_index</strong> (<em>int</em>)</p></li>
<li><p><strong>parsed_index</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>is_formatted</strong> (<em>bool</em>)</p></li>
<li><p><strong>eligible</strong> (<em>bool</em>)</p></li>
<li><p><strong>is_correct</strong> (<em>bool</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.Observation.eligible">
<span class="sig-name descname"><span class="pre">eligible</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#common.evaluation.slate_eval.Observation.eligible" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.Observation.gold_index">
<span class="sig-name descname"><span class="pre">gold_index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.evaluation.slate_eval.Observation.gold_index" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.Observation.is_correct">
<span class="sig-name descname"><span class="pre">is_correct</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#common.evaluation.slate_eval.Observation.is_correct" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.Observation.is_formatted">
<span class="sig-name descname"><span class="pre">is_formatted</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#common.evaluation.slate_eval.Observation.is_formatted" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.Observation.issue_label">
<span class="sig-name descname"><span class="pre">issue_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.evaluation.slate_eval.Observation.issue_label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.Observation.option_bucket">
<span class="sig-name descname"><span class="pre">option_bucket</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.evaluation.slate_eval.Observation.option_bucket" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.Observation.option_count">
<span class="sig-name descname"><span class="pre">option_count</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.evaluation.slate_eval.Observation.option_count" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.Observation.parsed_index">
<span class="sig-name descname"><span class="pre">parsed_index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.evaluation.slate_eval.Observation.parsed_index" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.Observation.position_bucket">
<span class="sig-name descname"><span class="pre">position_bucket</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.evaluation.slate_eval.Observation.position_bucket" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.Observation.study_label">
<span class="sig-name descname"><span class="pre">study_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.evaluation.slate_eval.Observation.study_label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.SlateMetricsRequest">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.evaluation.slate_eval.</span></span><span class="sig-name descname"><span class="pre">SlateMetricsRequest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_split</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('1',</span> <span class="pre">'2',</span> <span class="pre">'3',</span> <span class="pre">'4',</span> <span class="pre">'5+',</span> <span class="pre">'unknown')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('1',</span> <span class="pre">'2',</span> <span class="pre">'3',</span> <span class="pre">'4',</span> <span class="pre">'5+')</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#SlateMetricsRequest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.SlateMetricsRequest" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Payload describing the metadata included with evaluation metrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_name</strong> (<em>str</em>)</p></li>
<li><p><strong>dataset_name</strong> (<em>str</em>)</p></li>
<li><p><strong>eval_split</strong> (<em>str</em>)</p></li>
<li><p><strong>filters</strong> (<a class="reference internal" href="#common.evaluation.slate_eval.EvaluationFilters" title="common.evaluation.slate_eval.EvaluationFilters"><em>common.evaluation.slate_eval.EvaluationFilters</em></a>)</p></li>
<li><p><strong>position_order</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>)</p></li>
<li><p><strong>option_order</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.SlateMetricsRequest.dataset_name">
<span class="sig-name descname"><span class="pre">dataset_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.evaluation.slate_eval.SlateMetricsRequest.dataset_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.SlateMetricsRequest.eval_split">
<span class="sig-name descname"><span class="pre">eval_split</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.evaluation.slate_eval.SlateMetricsRequest.eval_split" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.SlateMetricsRequest.filters">
<span class="sig-name descname"><span class="pre">filters</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationFilters" title="common.evaluation.slate_eval.EvaluationFilters"><span class="pre">common.evaluation.slate_eval.EvaluationFilters</span></a></em><a class="headerlink" href="#common.evaluation.slate_eval.SlateMetricsRequest.filters" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.SlateMetricsRequest.model_name">
<span class="sig-name descname"><span class="pre">model_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.evaluation.slate_eval.SlateMetricsRequest.model_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.SlateMetricsRequest.option_order">
<span class="sig-name descname"><span class="pre">option_order</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('1',</span> <span class="pre">'2',</span> <span class="pre">'3',</span> <span class="pre">'4',</span> <span class="pre">'5+')</span></em><a class="headerlink" href="#common.evaluation.slate_eval.SlateMetricsRequest.option_order" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.SlateMetricsRequest.position_order">
<span class="sig-name descname"><span class="pre">position_order</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('1',</span> <span class="pre">'2',</span> <span class="pre">'3',</span> <span class="pre">'4',</span> <span class="pre">'5+',</span> <span class="pre">'unknown')</span></em><a class="headerlink" href="#common.evaluation.slate_eval.SlateMetricsRequest.position_order" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.bucket_from_options">
<span class="sig-prename descclassname"><span class="pre">common.evaluation.slate_eval.</span></span><span class="sig-name descname"><span class="pre">bucket_from_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#bucket_from_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.bucket_from_options" title="Link to this definition">¶</a></dt>
<dd><p>Normalise the number of slate options into histogram buckets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>count</strong> (<em>int</em>) – Total number of options shown to the participant.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Bucket label describing the option count.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.evaluation.slate_eval.bucket_from_position">
<span class="sig-prename descclassname"><span class="pre">common.evaluation.slate_eval.</span></span><span class="sig-name descname"><span class="pre">bucket_from_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/evaluation/slate_eval.html#bucket_from_position"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.evaluation.slate_eval.bucket_from_position" title="Link to this definition">¶</a></dt>
<dd><p>Map a zero-based position index to an accuracy bucket label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>position_index</strong> (<em>int</em>) – Zero-based rank of the gold item within the slate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Bucket label describing the rank.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-common.prompts.docs">
<span id="prompt-document-utilities"></span><h2>Prompt Document Utilities<a class="headerlink" href="#module-common.prompts.docs" title="Link to this heading">¶</a></h2>
<p>Prompt document assembly utilities.</p>
<dl class="py class">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.prompts.docs.</span></span><span class="sig-name descname"><span class="pre">PromptDocumentBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_history</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_lookup=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_prefix=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Assemble prompt documents and training corpora for baseline models.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt_column</strong> (<em>str</em>) – Source column containing raw prompt text.</p></li>
<li><p><strong>solution_column</strong> (<em>str</em>) – Column storing the ground-truth label identifier.</p></li>
<li><p><strong>max_history</strong> (<em>int</em>) – Maximum number of historical events considered by prompt_builder.</p></li>
<li><p><strong>title_lookup</strong> (<em>TitleLookup</em><em> | </em><em>None</em>) – Optional callback used to hydrate missing titles.</p></li>
<li><p><strong>log_prefix</strong> (<em>str</em>) – Human-readable prefix injected ahead of log messages.</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em>) – Logger instance used for diagnostic output.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>prompt_column</strong> (<em>str</em>)</p></li>
<li><p><strong>solution_column</strong> (<em>str</em>)</p></li>
<li><p><strong>max_history</strong> (<em>int</em>)</p></li>
<li><p><strong>title_lookup</strong> (<em>Callable</em><em>[</em><em>[</em><em>str</em><em> | </em><em>None</em><em>]</em><em>, </em><em>str</em><em> | </em><em>None</em><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>log_prefix</strong> (<em>str</em>)</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.assemble_document">
<span class="sig-name descname"><span class="pre">assemble_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.assemble_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.assemble_document" title="Link to this definition">¶</a></dt>
<dd><p>Assemble a whitespace-joined prompt document for slate modelling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>example</strong> (<em>dict</em>) – Dataset row providing prompt, slate, and solution fields.</p></li>
<li><p><strong>extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Additional viewer attributes to embed in the prompt.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Normalised prompt text suitable for training or inference.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.extract_now_watching">
<span class="sig-name descname"><span class="pre">extract_now_watching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.extract_now_watching"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.extract_now_watching" title="Link to this definition">¶</a></dt>
<dd><p>Return the now-watching tuple <code class="docutils literal notranslate"><span class="pre">(title,</span> <span class="pre">video_id)</span></code> when present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>dict</em>) – Dataset row containing candidate now-watching data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Two-tuple of title and video id or <code class="docutils literal notranslate"><span class="pre">None</span></code> if unavailable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[Tuple[str, str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.extract_slate_items">
<span class="sig-name descname"><span class="pre">extract_slate_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.extract_slate_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.extract_slate_items" title="Link to this definition">¶</a></dt>
<dd><p>Return the slate items as a list of <code class="docutils literal notranslate"><span class="pre">(title,</span> <span class="pre">video_id)</span></code> pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>dict</em>) – Dataset row containing structured or textual slate metadata.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Ordered, de-duplicated slate entries ready for downstream use.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Tuple[str, str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.log_prefix">
<span class="sig-name descname"><span class="pre">log_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.log_prefix" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.logger">
<span class="sig-name descname"><span class="pre">logger</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">logging.Logger</span></em><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.logger" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.max_history">
<span class="sig-name descname"><span class="pre">max_history</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.max_history" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.prepare_training_documents">
<span class="sig-name descname"><span class="pre">prepare_training_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.prepare_training_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.prepare_training_documents" title="Link to this definition">¶</a></dt>
<dd><p>Return filtered training documents and labels sampled from <code class="docutils literal notranslate"><span class="pre">train_ds</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_ds</strong> (<em>Sequence</em>) – HuggingFace-style dataset or sequence of rows to process.</p></li>
<li><p><strong>max_train</strong> (<em>int</em>) – Maximum number of training examples to inspect.</p></li>
<li><p><strong>seed</strong> (<em>int</em>) – Random seed controlling subsampling.</p></li>
<li><p><strong>extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Optional extra field names to include in the prompt.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of documents, label ids, and label titles.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[str], List[str], List[str]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If all candidate prompts are empty after processing.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.prompt_column">
<span class="sig-name descname"><span class="pre">prompt_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.prompt_column" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.prompt_from_builder">
<span class="sig-name descname"><span class="pre">prompt_from_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.prompt_from_builder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.prompt_from_builder" title="Link to this definition">¶</a></dt>
<dd><p>Return an existing prompt or fall back to <code class="xref py py-func docutils literal notranslate"><span class="pre">build_user_prompt()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>dict</em>) – Dataset row containing prompt and history columns.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cleaned prompt string, possibly synthesised from history.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.solution_column">
<span class="sig-name descname"><span class="pre">solution_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.solution_column" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.title_for">
<span class="sig-name descname"><span class="pre">title_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.title_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.title_for" title="Link to this definition">¶</a></dt>
<dd><p>Return the title associated with <code class="docutils literal notranslate"><span class="pre">video_id</span></code> when available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>video_id</strong> (<em>str</em>) – Candidate YouTube identifier to resolve.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Human-readable title or <code class="docutils literal notranslate"><span class="pre">None</span></code> if unavailable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.title_lookup">
<span class="sig-name descname"><span class="pre">title_lookup</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.title_lookup" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.PromptDocumentBuilder.viewer_profile_sentence">
<span class="sig-name descname"><span class="pre">viewer_profile_sentence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.viewer_profile_sentence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.PromptDocumentBuilder.viewer_profile_sentence" title="Link to this definition">¶</a></dt>
<dd><p>Return a cleaned viewer profile sentence, synthesising when needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>dict</em>) – Dataset row providing viewer metadata.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Canonicalised viewer profile summary or the empty string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.docs.create_prompt_document_builder">
<span class="sig-prename descclassname"><span class="pre">common.prompts.docs.</span></span><span class="sig-name descname"><span class="pre">create_prompt_document_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_history</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_prefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#create_prompt_document_builder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.create_prompt_document_builder" title="Link to this definition">¶</a></dt>
<dd><p>Construct a <a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder" title="common.prompts.docs.PromptDocumentBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">PromptDocumentBuilder</span></code></a> with shared defaults.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt_column</strong> (<em>str</em>) – Dataset column that stores the raw prompt text.</p></li>
<li><p><strong>solution_column</strong> (<em>str</em>) – Column providing the ground-truth label identifier.</p></li>
<li><p><strong>max_history</strong> (<em>int</em>) – Maximum prompt history length considered by prompt_builder.</p></li>
<li><p><strong>log_prefix</strong> (<em>str</em>) – Prefix added to log messages emitted by the builder.</p></li>
<li><p><strong>logger_name</strong> (<em>str</em>) – Name of the logger to retrieve via <code class="xref py py-func docutils literal notranslate"><span class="pre">get_logger()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fully configured <a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder" title="common.prompts.docs.PromptDocumentBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">PromptDocumentBuilder</span></code></a> instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder" title="common.prompts.docs.PromptDocumentBuilder">PromptDocumentBuilder</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.docs.default_title_resolver">
<span class="sig-prename descclassname"><span class="pre">common.prompts.docs.</span></span><span class="sig-name descname"><span class="pre">default_title_resolver</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/titles.html#default_title_resolver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.default_title_resolver" title="Link to this definition">¶</a></dt>
<dd><p>Return a lazily constructed <a class="reference internal" href="#common.text.title_index.TitleResolver" title="common.text.title_index.TitleResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">TitleResolver</span></code></a>
for GRAIL datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Shared <a class="reference internal" href="#common.text.title_index.TitleResolver" title="common.text.title_index.TitleResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">TitleResolver</span></code></a> instance
backed by default paths.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#common.text.title_index.TitleResolver" title="common.text.title_index.TitleResolver"><em>TitleResolver</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.docs.load_trajectory_entries">
<span class="sig-prename descclassname"><span class="pre">common.prompts.docs.</span></span><span class="sig-name descname"><span class="pre">load_trajectory_entries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payload</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/trajectory.html#load_trajectory_entries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.load_trajectory_entries" title="Link to this definition">¶</a></dt>
<dd><p>Return sanitized trajectory entries extracted from <code class="docutils literal notranslate"><span class="pre">payload</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>payload</strong> (<em>object</em>) – Raw trajectory JSON blob or mapping supplied by datasets.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List containing mapping objects for each trajectory event.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[Mapping[str, object]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.docs.merge_default_extra_fields">
<span class="sig-prename descclassname"><span class="pre">common.prompts.docs.</span></span><span class="sig-name descname"><span class="pre">merge_default_extra_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extra_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/extra_fields.html#merge_default_extra_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.merge_default_extra_fields" title="Link to this definition">¶</a></dt>
<dd><p>Ensure the default extra text fields are always present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Caller-provided sequence of extra field names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple containing the default field list plus any additional ones.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[str, …]</p>
</dd>
</dl>
</dd></dl>

<p id="module-common.prompts.docs.builder">Prompt document builder facade.</p>
<dl class="py class">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.prompts.docs.builder.</span></span><span class="sig-name descname"><span class="pre">PromptDocumentBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_history</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_lookup=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_prefix=''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger=&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Assemble prompt documents and training corpora for baseline models.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt_column</strong> (<em>str</em>) – Source column containing raw prompt text.</p></li>
<li><p><strong>solution_column</strong> (<em>str</em>) – Column storing the ground-truth label identifier.</p></li>
<li><p><strong>max_history</strong> (<em>int</em>) – Maximum number of historical events considered by prompt_builder.</p></li>
<li><p><strong>title_lookup</strong> (<em>TitleLookup</em><em> | </em><em>None</em>) – Optional callback used to hydrate missing titles.</p></li>
<li><p><strong>log_prefix</strong> (<em>str</em>) – Human-readable prefix injected ahead of log messages.</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em>) – Logger instance used for diagnostic output.</p></li>
</ul>
</dd>
<dt class="field-even">Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>prompt_column</strong> (<em>str</em>)</p></li>
<li><p><strong>solution_column</strong> (<em>str</em>)</p></li>
<li><p><strong>max_history</strong> (<em>int</em>)</p></li>
<li><p><strong>title_lookup</strong> (<em>Callable</em><em>[</em><em>[</em><em>str</em><em> | </em><em>None</em><em>]</em><em>, </em><em>str</em><em> | </em><em>None</em><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>log_prefix</strong> (<em>str</em>)</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.assemble_document">
<span class="sig-name descname"><span class="pre">assemble_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.assemble_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.assemble_document" title="Link to this definition">¶</a></dt>
<dd><p>Assemble a whitespace-joined prompt document for slate modelling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>example</strong> (<em>dict</em>) – Dataset row providing prompt, slate, and solution fields.</p></li>
<li><p><strong>extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Additional viewer attributes to embed in the prompt.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Normalised prompt text suitable for training or inference.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.extract_now_watching">
<span class="sig-name descname"><span class="pre">extract_now_watching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.extract_now_watching"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.extract_now_watching" title="Link to this definition">¶</a></dt>
<dd><p>Return the now-watching tuple <code class="docutils literal notranslate"><span class="pre">(title,</span> <span class="pre">video_id)</span></code> when present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>dict</em>) – Dataset row containing candidate now-watching data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Two-tuple of title and video id or <code class="docutils literal notranslate"><span class="pre">None</span></code> if unavailable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[Tuple[str, str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.extract_slate_items">
<span class="sig-name descname"><span class="pre">extract_slate_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.extract_slate_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.extract_slate_items" title="Link to this definition">¶</a></dt>
<dd><p>Return the slate items as a list of <code class="docutils literal notranslate"><span class="pre">(title,</span> <span class="pre">video_id)</span></code> pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>dict</em>) – Dataset row containing structured or textual slate metadata.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Ordered, de-duplicated slate entries ready for downstream use.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Tuple[str, str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.log_prefix">
<span class="sig-name descname"><span class="pre">log_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.log_prefix" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.logger">
<span class="sig-name descname"><span class="pre">logger</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">logging.Logger</span></em><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.logger" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.max_history">
<span class="sig-name descname"><span class="pre">max_history</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.max_history" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.prepare_training_documents">
<span class="sig-name descname"><span class="pre">prepare_training_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.prepare_training_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.prepare_training_documents" title="Link to this definition">¶</a></dt>
<dd><p>Return filtered training documents and labels sampled from <code class="docutils literal notranslate"><span class="pre">train_ds</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_ds</strong> (<em>Sequence</em>) – HuggingFace-style dataset or sequence of rows to process.</p></li>
<li><p><strong>max_train</strong> (<em>int</em>) – Maximum number of training examples to inspect.</p></li>
<li><p><strong>seed</strong> (<em>int</em>) – Random seed controlling subsampling.</p></li>
<li><p><strong>extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Optional extra field names to include in the prompt.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of documents, label ids, and label titles.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[str], List[str], List[str]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If all candidate prompts are empty after processing.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.prompt_column">
<span class="sig-name descname"><span class="pre">prompt_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.prompt_column" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.prompt_from_builder">
<span class="sig-name descname"><span class="pre">prompt_from_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.prompt_from_builder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.prompt_from_builder" title="Link to this definition">¶</a></dt>
<dd><p>Return an existing prompt or fall back to <code class="xref py py-func docutils literal notranslate"><span class="pre">build_user_prompt()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>dict</em>) – Dataset row containing prompt and history columns.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cleaned prompt string, possibly synthesised from history.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.solution_column">
<span class="sig-name descname"><span class="pre">solution_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.solution_column" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.title_for">
<span class="sig-name descname"><span class="pre">title_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.title_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.title_for" title="Link to this definition">¶</a></dt>
<dd><p>Return the title associated with <code class="docutils literal notranslate"><span class="pre">video_id</span></code> when available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>video_id</strong> (<em>str</em>) – Candidate YouTube identifier to resolve.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Human-readable title or <code class="docutils literal notranslate"><span class="pre">None</span></code> if unavailable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.title_lookup">
<span class="sig-name descname"><span class="pre">title_lookup</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.title_lookup" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.docs.builder.PromptDocumentBuilder.viewer_profile_sentence">
<span class="sig-name descname"><span class="pre">viewer_profile_sentence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#PromptDocumentBuilder.viewer_profile_sentence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.builder.PromptDocumentBuilder.viewer_profile_sentence" title="Link to this definition">¶</a></dt>
<dd><p>Return a cleaned viewer profile sentence, synthesising when needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>dict</em>) – Dataset row providing viewer metadata.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Canonicalised viewer profile summary or the empty string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.docs.builder.create_prompt_document_builder">
<span class="sig-prename descclassname"><span class="pre">common.prompts.docs.builder.</span></span><span class="sig-name descname"><span class="pre">create_prompt_document_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">prompt_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solution_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_history</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_prefix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/builder.html#create_prompt_document_builder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.builder.create_prompt_document_builder" title="Link to this definition">¶</a></dt>
<dd><p>Construct a <a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder" title="common.prompts.docs.builder.PromptDocumentBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">PromptDocumentBuilder</span></code></a> with shared defaults.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt_column</strong> (<em>str</em>) – Dataset column that stores the raw prompt text.</p></li>
<li><p><strong>solution_column</strong> (<em>str</em>) – Column providing the ground-truth label identifier.</p></li>
<li><p><strong>max_history</strong> (<em>int</em>) – Maximum prompt history length considered by prompt_builder.</p></li>
<li><p><strong>log_prefix</strong> (<em>str</em>) – Prefix added to log messages emitted by the builder.</p></li>
<li><p><strong>logger_name</strong> (<em>str</em>) – Name of the logger to retrieve via <code class="xref py py-func docutils literal notranslate"><span class="pre">get_logger()</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fully configured <a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder" title="common.prompts.docs.builder.PromptDocumentBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">PromptDocumentBuilder</span></code></a> instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder" title="common.prompts.docs.builder.PromptDocumentBuilder">PromptDocumentBuilder</a></p>
</dd>
</dl>
</dd></dl>

<p id="module-common.prompts.docs.extra_fields">Extra field metadata and helpers for prompt document assembly.</p>
<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.docs.extra_fields.format_extra_field">
<span class="sig-prename descclassname"><span class="pre">common.prompts.docs.extra_fields.</span></span><span class="sig-name descname"><span class="pre">format_extra_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/extra_fields.html#format_extra_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.extra_fields.format_extra_field" title="Link to this definition">¶</a></dt>
<dd><p>Return a labelled, human-readable representation of an extra field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>example</strong> (<em>dict</em>) – Dataset row providing the raw field value.</p></li>
<li><p><strong>field_name</strong> (<em>str</em>) – Name of the field to format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sphinx-friendly <code class="docutils literal notranslate"><span class="pre">&quot;Label:</span> <span class="pre">value&quot;</span></code> string or <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> when empty.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.docs.extra_fields.merge_default_extra_fields">
<span class="sig-prename descclassname"><span class="pre">common.prompts.docs.extra_fields.</span></span><span class="sig-name descname"><span class="pre">merge_default_extra_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extra_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/extra_fields.html#merge_default_extra_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.extra_fields.merge_default_extra_fields" title="Link to this definition">¶</a></dt>
<dd><p>Ensure the default extra text fields are always present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Caller-provided sequence of extra field names.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple containing the default field list plus any additional ones.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[str, …]</p>
</dd>
</dl>
</dd></dl>

<p id="module-common.prompts.docs.slate">Slate extraction helpers used during prompt document assembly.</p>
<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.docs.slate.extract_now_watching">
<span class="sig-prename descclassname"><span class="pre">common.prompts.docs.slate.</span></span><span class="sig-name descname"><span class="pre">extract_now_watching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_lookup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/slate.html#extract_now_watching"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.slate.extract_now_watching" title="Link to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">(title,</span> <span class="pre">video_id)</span></code> describing the currently watched video.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Source record containing now-playing metadata.</p></li>
<li><p><strong>title_lookup</strong> (<em>TitleLookup</em><em> | </em><em>None</em>) – Optional callback for hydrating missing titles.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Two-tuple <code class="docutils literal notranslate"><span class="pre">(title,</span> <span class="pre">video_id)</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code> if unavailable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[Tuple[str, str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.docs.slate.extract_slate_items">
<span class="sig-prename descclassname"><span class="pre">common.prompts.docs.slate.</span></span><span class="sig-name descname"><span class="pre">extract_slate_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_lookup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/slate.html#extract_slate_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.slate.extract_slate_items" title="Link to this definition">¶</a></dt>
<dd><p>Return a list of <code class="docutils literal notranslate"><span class="pre">(title,</span> <span class="pre">video_id)</span></code> tuples extracted from <code class="docutils literal notranslate"><span class="pre">example</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Source record containing slate metadata in multiple formats.</p></li>
<li><p><strong>title_lookup</strong> (<em>TitleLookup</em><em> | </em><em>None</em>) – Optional callback used to hydrate missing titles.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Ordered and de-duplicated slate entries.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Tuple[str, str]]</p>
</dd>
</dl>
</dd></dl>

<p id="module-common.prompts.docs.titles">Title resolution utilities for cleaned GRAIL datasets.</p>
<p>This module centralises logic for discovering on-disk title indexes and
instantiating <a class="reference internal" href="#common.text.title_index.TitleResolver" title="common.text.title_index.TitleResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">TitleResolver</span></code></a> with sensible
defaults.</p>
<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.docs.titles.default_title_resolver">
<span class="sig-prename descclassname"><span class="pre">common.prompts.docs.titles.</span></span><span class="sig-name descname"><span class="pre">default_title_resolver</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/titles.html#default_title_resolver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.titles.default_title_resolver" title="Link to this definition">¶</a></dt>
<dd><p>Return a lazily constructed <a class="reference internal" href="#common.text.title_index.TitleResolver" title="common.text.title_index.TitleResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">TitleResolver</span></code></a>
for GRAIL datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Shared <a class="reference internal" href="#common.text.title_index.TitleResolver" title="common.text.title_index.TitleResolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">TitleResolver</span></code></a> instance
backed by default paths.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#common.text.title_index.TitleResolver" title="common.text.title_index.TitleResolver"><em>TitleResolver</em></a></p>
</dd>
</dl>
</dd></dl>

<p id="module-common.prompts.docs.trajectory">Helpers for parsing trajectory metadata embedded in prompt records.</p>
<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.docs.trajectory.load_trajectory_entries">
<span class="sig-prename descclassname"><span class="pre">common.prompts.docs.trajectory.</span></span><span class="sig-name descname"><span class="pre">load_trajectory_entries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payload</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/docs/trajectory.html#load_trajectory_entries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.docs.trajectory.load_trajectory_entries" title="Link to this definition">¶</a></dt>
<dd><p>Return sanitized trajectory entries extracted from <code class="docutils literal notranslate"><span class="pre">payload</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>payload</strong> (<em>object</em>) – Raw trajectory JSON blob or mapping supplied by datasets.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List containing mapping objects for each trajectory event.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[Mapping[str, object]]</p>
</dd>
</dl>
</dd></dl>

<p id="module-common.prompts.selection">Shared prompt selection utilities for baseline recommenders.</p>
<dl class="py class">
<dt class="sig sig-object py" id="common.prompts.selection.CandidateMetadata">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">CandidateMetadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">video_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#CandidateMetadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.CandidateMetadata" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Lightweight view of slate candidate attributes used for token augmentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slot</strong> (<em>int</em>)</p></li>
<li><p><strong>title</strong> (<em>str</em>)</p></li>
<li><p><strong>video_id</strong> (<em>str</em>)</p></li>
<li><p><strong>channel_title</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>channel_id</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.selection.CandidateMetadata.channel_id">
<span class="sig-name descname"><span class="pre">channel_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.prompts.selection.CandidateMetadata.channel_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.selection.CandidateMetadata.channel_title">
<span class="sig-name descname"><span class="pre">channel_title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.prompts.selection.CandidateMetadata.channel_title" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.selection.CandidateMetadata.slot">
<span class="sig-name descname"><span class="pre">slot</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.prompts.selection.CandidateMetadata.slot" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.selection.CandidateMetadata.title">
<span class="sig-name descname"><span class="pre">title</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.prompts.selection.CandidateMetadata.title" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.selection.CandidateMetadata.video_id">
<span class="sig-name descname"><span class="pre">video_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.prompts.selection.CandidateMetadata.video_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">PromptSelectionHelper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Wrap <a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder" title="common.prompts.docs.builder.PromptDocumentBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">PromptDocumentBuilder</span></code></a> with shared selection helpers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>builder</strong> (<a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder" title="common.prompts.docs.builder.PromptDocumentBuilder"><em>common.prompts.docs.builder.PromptDocumentBuilder</em></a>)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.assemble_document">
<span class="sig-name descname"><span class="pre">assemble_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper.assemble_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.assemble_document" title="Link to this definition">¶</a></dt>
<dd><p>Concatenate prompt components and selection tokens for feature extraction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example containing base fields and slate metadata.</p></li>
<li><p><strong>extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Optional additional fields injected into the prompt.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Document string suitable for downstream vectorisation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.builder">
<span class="sig-name descname"><span class="pre">builder</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder" title="common.prompts.docs.builder.PromptDocumentBuilder"><span class="pre">common.prompts.docs.builder.PromptDocumentBuilder</span></a></em><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.builder" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.candidate_feature_tokens">
<span class="sig-name descname"><span class="pre">candidate_feature_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">candidate</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">option_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper.candidate_feature_tokens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.candidate_feature_tokens" title="Link to this definition">¶</a></dt>
<dd><p>Delegate to <a class="reference internal" href="#common.prompts.selection.candidate_feature_tokens" title="common.prompts.selection.candidate_feature_tokens"><code class="xref py py-func docutils literal notranslate"><span class="pre">candidate_feature_tokens()</span></code></a> for convenience.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>candidate</strong> (<a class="reference internal" href="#common.prompts.selection.CandidateMetadata" title="common.prompts.selection.CandidateMetadata"><em>common.prompts.selection.CandidateMetadata</em></a>) – Slate candidate to transform into feature tokens.</p></li>
<li><p><strong>option_count</strong> (<em>int</em><em> | </em><em>None</em>) – Optional total number of options available.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of tokens describing the candidate.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.collect_candidate_metadata">
<span class="sig-name descname"><span class="pre">collect_candidate_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper.collect_candidate_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.collect_candidate_metadata" title="Link to this definition">¶</a></dt>
<dd><p>Return slate candidate metadata enriched with slot indices and channel info.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example providing slate items and metadata.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of <a class="reference internal" href="#common.prompts.selection.CandidateMetadata" title="common.prompts.selection.CandidateMetadata"><code class="xref py py-class docutils literal notranslate"><span class="pre">CandidateMetadata</span></code></a> entries for the slate.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[<a class="reference internal" href="#common.prompts.selection.CandidateMetadata" title="common.prompts.selection.CandidateMetadata">common.prompts.selection.CandidateMetadata</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.extract_now_watching">
<span class="sig-name descname"><span class="pre">extract_now_watching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper.extract_now_watching"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.extract_now_watching" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve the currently watched item for <code class="docutils literal notranslate"><span class="pre">example</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example containing slate metadata.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of title and video ID, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if absent.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tuple</em>[str, str] | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.extract_slate_items">
<span class="sig-name descname"><span class="pre">extract_slate_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper.extract_slate_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.extract_slate_items" title="Link to this definition">¶</a></dt>
<dd><p>Extract the slate of candidate items from <code class="docutils literal notranslate"><span class="pre">example</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example containing slate candidates.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of <code class="docutils literal notranslate"><span class="pre">(title,</span> <span class="pre">video_id)</span></code> pairs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[<em>Tuple</em>[str, str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.prepare_prompt_documents">
<span class="sig-name descname"><span class="pre">prepare_prompt_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper.prepare_prompt_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.prepare_prompt_documents" title="Link to this definition">¶</a></dt>
<dd><p>Convenience wrapper mirroring <a class="reference internal" href="#common.prompts.selection.prepare_training_documents" title="common.prompts.selection.prepare_training_documents"><code class="xref py py-meth docutils literal notranslate"><span class="pre">prepare_training_documents()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_ds</strong> – Training dataset consumed by <code class="xref py py-func docutils literal notranslate"><span class="pre">collect_selected_examples()</span></code>.</p></li>
<li><p><strong>max_train</strong> (<em>int</em>) – Maximum number of training examples to include.</p></li>
<li><p><strong>seed</strong> (<em>int</em>) – Random seed controlling subsampling determinism.</p></li>
<li><p><strong>extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Optional additional fields appended to the prompt.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of documents, label IDs, and label titles.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tuple</em>[<em>List</em>[str], <em>List</em>[str], <em>List</em>[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.prepare_training_documents">
<span class="sig-name descname"><span class="pre">prepare_training_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper.prepare_training_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.prepare_training_documents" title="Link to this definition">¶</a></dt>
<dd><p>Prepare prompt documents, labels, and metadata for TF-IDF style training.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_ds</strong> – Training dataset consumed by <code class="xref py py-func docutils literal notranslate"><span class="pre">collect_selected_examples()</span></code>.</p></li>
<li><p><strong>max_train</strong> (<em>int</em>) – Maximum number of training examples to include.</p></li>
<li><p><strong>seed</strong> (<em>int</em>) – Random seed controlling subsampling determinism.</p></li>
<li><p><strong>extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Optional additional fields appended to the prompt.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of documents, label IDs, and label titles.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – If no eligible documents are generated.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Tuple</em>[<em>List</em>[str], <em>List</em>[str], <em>List</em>[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.prompt_from_builder">
<span class="sig-name descname"><span class="pre">prompt_from_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper.prompt_from_builder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.prompt_from_builder" title="Link to this definition">¶</a></dt>
<dd><p>Assemble the full prompt text for <code class="docutils literal notranslate"><span class="pre">example</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example to convert into prompt text.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Full prompt string including contextual tokens.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.selection_feature_tokens">
<span class="sig-name descname"><span class="pre">selection_feature_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">candidates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper.selection_feature_tokens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.selection_feature_tokens" title="Link to this definition">¶</a></dt>
<dd><p>Construct additive tokens that highlight the selected candidate within a prompt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example containing the gold candidate.</p></li>
<li><p><strong>candidates</strong> (<em>Sequence</em><em>[</em><a class="reference internal" href="#common.prompts.selection.CandidateMetadata" title="common.prompts.selection.CandidateMetadata"><em>common.prompts.selection.CandidateMetadata</em></a><em>] </em><em>| </em><em>None</em>) – Precomputed candidate metadata, or <code class="docutils literal notranslate"><span class="pre">None</span></code> to derive it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of tokens emphasising the gold candidate.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.solution_column">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">solution_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.solution_column" title="Link to this definition">¶</a></dt>
<dd><p>Expose the solution column tracked by the prompt builder.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the solution column used to identify the gold item.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.title_for">
<span class="sig-name descname"><span class="pre">title_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper.title_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.title_for" title="Link to this definition">¶</a></dt>
<dd><p>Look up a human-readable title for <code class="docutils literal notranslate"><span class="pre">video_id</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>video_id</strong> (<em>str</em>) – Candidate video identifier.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Human-friendly title or <code class="docutils literal notranslate"><span class="pre">None</span></code> when unavailable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.prompts.selection.PromptSelectionHelper.viewer_profile_sentence">
<span class="sig-name descname"><span class="pre">viewer_profile_sentence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#PromptSelectionHelper.viewer_profile_sentence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.PromptSelectionHelper.viewer_profile_sentence" title="Link to this definition">¶</a></dt>
<dd><p>Compose the viewer profile sentence associated with <code class="docutils literal notranslate"><span class="pre">example</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example containing viewer metadata.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Viewer profile sentence assembled by the builder.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.assemble_document">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">assemble_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_example</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_extra_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#assemble_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.assemble_document" title="Link to this definition">¶</a></dt>
<dd><p>Placeholder bound via <a class="reference internal" href="#common.prompts.selection.bind_prompt_selection_exports" title="common.prompts.selection.bind_prompt_selection_exports"><code class="xref py py-func docutils literal notranslate"><span class="pre">bind_prompt_selection_exports()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example passed to the helper.</p></li>
<li><p><strong>_extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Optional additional prompt fields.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Prompt document once bound; raises otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.bind_prompt_selection_exports">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">bind_prompt_selection_exports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">helper</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_candidate_tokens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#bind_prompt_selection_exports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.bind_prompt_selection_exports" title="Link to this definition">¶</a></dt>
<dd><p>Return a mapping of standard prompt-selection helpers exposed by modules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>helper</strong> (<a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper" title="common.prompts.selection.PromptSelectionHelper"><em>common.prompts.selection.PromptSelectionHelper</em></a>) – Instance wrapping a <a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder" title="common.prompts.docs.builder.PromptDocumentBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">PromptDocumentBuilder</span></code></a>.</p></li>
<li><p><strong>include_candidate_tokens</strong> (<em>bool</em>) – When <code class="docutils literal notranslate"><span class="pre">True</span></code> include <code class="docutils literal notranslate"><span class="pre">candidate_feature_tokens</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary suitable for <code class="docutils literal notranslate"><span class="pre">globals().update(...)</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Dict</em>[str, object]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.candidate_feature_tokens">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">candidate_feature_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">candidate</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">option_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#candidate_feature_tokens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.candidate_feature_tokens" title="Link to this definition">¶</a></dt>
<dd><p>Generate candidate-specific tokens used during query scoring.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>candidate</strong> (<a class="reference internal" href="#common.prompts.selection.CandidateMetadata" title="common.prompts.selection.CandidateMetadata"><em>common.prompts.selection.CandidateMetadata</em></a>) – Metadata describing a slate candidate.</p></li>
<li><p><strong>option_count</strong> (<em>int</em><em> | </em><em>None</em>) – Optional total number of options available in the slate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of tokens encoding candidate identifiers and attributes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.collect_candidate_metadata">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">collect_candidate_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#collect_candidate_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.collect_candidate_metadata" title="Link to this definition">¶</a></dt>
<dd><p>Placeholder bound via <a class="reference internal" href="#common.prompts.selection.bind_prompt_selection_exports" title="common.prompts.selection.bind_prompt_selection_exports"><code class="xref py py-func docutils literal notranslate"><span class="pre">bind_prompt_selection_exports()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example passed to the helper.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of <a class="reference internal" href="#common.prompts.selection.CandidateMetadata" title="common.prompts.selection.CandidateMetadata"><code class="xref py py-class docutils literal notranslate"><span class="pre">CandidateMetadata</span></code></a> entries once bound; raises otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[<a class="reference internal" href="#common.prompts.selection.CandidateMetadata" title="common.prompts.selection.CandidateMetadata">common.prompts.selection.CandidateMetadata</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.extract_now_watching">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">extract_now_watching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#extract_now_watching"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.extract_now_watching" title="Link to this definition">¶</a></dt>
<dd><p>Placeholder bound via <a class="reference internal" href="#common.prompts.selection.bind_prompt_selection_exports" title="common.prompts.selection.bind_prompt_selection_exports"><code class="xref py py-func docutils literal notranslate"><span class="pre">bind_prompt_selection_exports()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example passed to the helper.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of title and video ID once bound; raises otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tuple</em>[str, str] | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.extract_slate_items">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">extract_slate_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#extract_slate_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.extract_slate_items" title="Link to this definition">¶</a></dt>
<dd><p>Placeholder bound via <a class="reference internal" href="#common.prompts.selection.bind_prompt_selection_exports" title="common.prompts.selection.bind_prompt_selection_exports"><code class="xref py py-func docutils literal notranslate"><span class="pre">bind_prompt_selection_exports()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example passed to the helper.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of <code class="docutils literal notranslate"><span class="pre">(title,</span> <span class="pre">video_id)</span></code> pairs once bound; raises otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[<em>Tuple</em>[str, str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.prepare_prompt_documents">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">prepare_prompt_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_train_ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_max_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_extra_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#prepare_prompt_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.prepare_prompt_documents" title="Link to this definition">¶</a></dt>
<dd><p>Placeholder bound via <a class="reference internal" href="#common.prompts.selection.bind_prompt_selection_exports" title="common.prompts.selection.bind_prompt_selection_exports"><code class="xref py py-func docutils literal notranslate"><span class="pre">bind_prompt_selection_exports()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_train_ds</strong> (<em>object</em>) – Training dataset passed to the helper.</p></li>
<li><p><strong>_max_train</strong> (<em>int</em>) – Maximum number of training examples requested.</p></li>
<li><p><strong>_seed</strong> (<em>int</em>) – Random seed used during subsampling.</p></li>
<li><p><strong>_extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Optional additional prompt fields.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of documents, label IDs, and label titles once bound.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tuple</em>[<em>List</em>[str], <em>List</em>[str], <em>List</em>[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.prepare_training_documents">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">prepare_training_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_train_ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_max_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_extra_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#prepare_training_documents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.prepare_training_documents" title="Link to this definition">¶</a></dt>
<dd><p>Placeholder bound via <a class="reference internal" href="#common.prompts.selection.bind_prompt_selection_exports" title="common.prompts.selection.bind_prompt_selection_exports"><code class="xref py py-func docutils literal notranslate"><span class="pre">bind_prompt_selection_exports()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_train_ds</strong> (<em>object</em>) – Training dataset passed to the helper.</p></li>
<li><p><strong>_max_train</strong> (<em>int</em>) – Maximum number of training examples requested.</p></li>
<li><p><strong>_seed</strong> (<em>int</em>) – Random seed used during subsampling.</p></li>
<li><p><strong>_extra_fields</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Optional additional prompt fields.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of documents, label IDs, and label titles once bound.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Tuple</em>[<em>List</em>[str], <em>List</em>[str], <em>List</em>[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.prompt_from_builder">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">prompt_from_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#prompt_from_builder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.prompt_from_builder" title="Link to this definition">¶</a></dt>
<dd><p>Placeholder bound via <a class="reference internal" href="#common.prompts.selection.bind_prompt_selection_exports" title="common.prompts.selection.bind_prompt_selection_exports"><code class="xref py py-func docutils literal notranslate"><span class="pre">bind_prompt_selection_exports()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example passed to the helper.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Prompt string once bound; raises otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.selection_feature_tokens">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">selection_feature_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_example</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_candidates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#selection_feature_tokens"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.selection_feature_tokens" title="Link to this definition">¶</a></dt>
<dd><p>Placeholder bound via <a class="reference internal" href="#common.prompts.selection.bind_prompt_selection_exports" title="common.prompts.selection.bind_prompt_selection_exports"><code class="xref py py-func docutils literal notranslate"><span class="pre">bind_prompt_selection_exports()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example passed to the helper.</p></li>
<li><p><strong>_candidates</strong> (<em>Sequence</em><em>[</em><a class="reference internal" href="#common.prompts.selection.CandidateMetadata" title="common.prompts.selection.CandidateMetadata"><em>common.prompts.selection.CandidateMetadata</em></a><em>] </em><em>| </em><em>None</em>) – Optional candidate metadata sequence.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of feature tokens once bound; raises otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.title_for">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">title_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_video_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#title_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.title_for" title="Link to this definition">¶</a></dt>
<dd><p>Placeholder bound via <a class="reference internal" href="#common.prompts.selection.bind_prompt_selection_exports" title="common.prompts.selection.bind_prompt_selection_exports"><code class="xref py py-func docutils literal notranslate"><span class="pre">bind_prompt_selection_exports()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_video_id</strong> (<em>str</em>) – Video identifier requested by the caller.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Title string once bound; raises otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.prompts.selection.viewer_profile_sentence">
<span class="sig-prename descclassname"><span class="pre">common.prompts.selection.</span></span><span class="sig-name descname"><span class="pre">viewer_profile_sentence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_example</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/prompts/selection.html#viewer_profile_sentence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.prompts.selection.viewer_profile_sentence" title="Link to this definition">¶</a></dt>
<dd><p>Placeholder bound via <a class="reference internal" href="#common.prompts.selection.bind_prompt_selection_exports" title="common.prompts.selection.bind_prompt_selection_exports"><code class="xref py py-func docutils literal notranslate"><span class="pre">bind_prompt_selection_exports()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_example</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Prompt example passed to the helper.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Viewer profile sentence once bound; raises otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-common.opinion">
<span id="opinion-utilities"></span><h2>Opinion Utilities<a class="headerlink" href="#module-common.opinion" title="Link to this heading">¶</a></h2>
<p>Aggregated exports for opinion study helpers.</p>
<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.AccuracySummary">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">AccuracySummary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eligible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/sweep_types.html#AccuracySummary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.AccuracySummary" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Capture directional accuracy metrics emitted by sweep evaluations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>delta</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>eligible</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.AccuracySummary.baseline">
<span class="sig-name descname"><span class="pre">baseline</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.AccuracySummary.baseline" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.AccuracySummary.delta">
<span class="sig-name descname"><span class="pre">delta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.AccuracySummary.delta" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.AccuracySummary.eligible">
<span class="sig-name descname"><span class="pre">eligible</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.AccuracySummary.eligible" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.AccuracySummary.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.AccuracySummary.value" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">BaseOpinionSweepOutcome</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mae</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rmse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">artifact</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy_summary</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/sweep_types.html#BaseOpinionSweepOutcome"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">common.opinion.sweep_types.ConfigT</span></code>]</p>
<p>Metrics captured for a (study, configuration) opinion sweep evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order_index</strong> (<em>int</em>) – Deterministic ordering index assigned to the task.</p></li>
<li><p><strong>study</strong> (<a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.types.StudySpec"><em>StudySpec</em></a>) – Study metadata associated with the sweep.</p></li>
<li><p><strong>config</strong> (<em>ConfigT</em>) – Evaluated sweep configuration.</p></li>
<li><p><strong>mae</strong> (<em>float</em>) – Mean absolute error achieved by the configuration.</p></li>
<li><p><strong>rmse</strong> (<em>float</em>) – Root mean squared error achieved by the configuration.</p></li>
<li><p><strong>artifact</strong> (<a class="reference internal" href="#common.opinion.MetricsArtifact" title="common.opinion.MetricsArtifact"><em>MetricsArtifact</em></a>) – Metrics artefact containing the payload and storage path.</p></li>
<li><p><strong>accuracy_summary</strong> (<a class="reference internal" href="#common.opinion.AccuracySummary" title="common.opinion.AccuracySummary"><em>AccuracySummary</em></a>) – Summary of directional accuracy metrics.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.accuracy">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">accuracy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.accuracy" title="Link to this definition">¶</a></dt>
<dd><p>Directional accuracy achieved by the configuration.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.accuracy_delta">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">accuracy_delta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.accuracy_delta" title="Link to this definition">¶</a></dt>
<dd><p>Improvement in accuracy over the baseline configuration.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.accuracy_summary">
<span class="sig-name descname"><span class="pre">accuracy_summary</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.opinion.sweep_types.AccuracySummary" title="common.opinion.sweep_types.AccuracySummary"><span class="pre">common.opinion.sweep_types.AccuracySummary</span></a></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.accuracy_summary" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.artifact">
<span class="sig-name descname"><span class="pre">artifact</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.opinion.sweep_types.MetricsArtifact" title="common.opinion.sweep_types.MetricsArtifact"><span class="pre">common.opinion.sweep_types.MetricsArtifact</span></a></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.artifact" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.baseline_accuracy">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">baseline_accuracy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.baseline_accuracy" title="Link to this definition">¶</a></dt>
<dd><p>Directional accuracy achieved by the baseline configuration.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">common.opinion.sweep_types.ConfigT</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.config" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.eligible">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">eligible</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.eligible" title="Link to this definition">¶</a></dt>
<dd><p>Number of evaluation examples contributing to accuracy metrics.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.mae">
<span class="sig-name descname"><span class="pre">mae</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.mae" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.metrics">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metrics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.metrics" title="Link to this definition">¶</a></dt>
<dd><p>Return the raw metrics payload loaded from disk.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.metrics_path">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metrics_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.metrics_path" title="Link to this definition">¶</a></dt>
<dd><p>Return the filesystem path to the persisted metrics artefact.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.order_index">
<span class="sig-name descname"><span class="pre">order_index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.order_index" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.rmse">
<span class="sig-name descname"><span class="pre">rmse</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.rmse" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepOutcome.study">
<span class="sig-name descname"><span class="pre">study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><span class="pre">common.pipeline.models.StudySpec</span></a></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepOutcome.study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepTask">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">BaseOpinionSweepTask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/sweep_types.html#BaseOpinionSweepTask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.BaseOpinionSweepTask" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">common.opinion.sweep_types.ConfigT</span></code>]</p>
<p>Describe shared attributes for opinion sweep execution tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – Stable ordinal used to preserve submission order.</p></li>
<li><p><strong>study</strong> (<a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.types.StudySpec"><em>StudySpec</em></a>) – Study metadata associated with the task.</p></li>
<li><p><strong>config</strong> (<em>ConfigT</em>) – Pipeline-specific hyper-parameter configuration.</p></li>
<li><p><strong>metrics_path</strong> (<em>Path</em>) – Expected location of the metrics artefact.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepTask.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">common.opinion.sweep_types.ConfigT</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepTask.config" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepTask.index">
<span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepTask.index" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepTask.metrics_path">
<span class="sig-name descname"><span class="pre">metrics_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepTask.metrics_path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseOpinionSweepTask.study">
<span class="sig-name descname"><span class="pre">study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><span class="pre">common.pipeline.models.StudySpec</span></a></em><a class="headerlink" href="#common.opinion.BaseOpinionSweepTask.study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.BaseSweepTask">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">BaseSweepTask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_cli</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_cli</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/sweep_types.html#BaseSweepTask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.BaseSweepTask" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">common.opinion.sweep_types.ConfigT</span></code>]</p>
<p>Describe shared attributes for sweep execution tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – Stable ordinal used to preserve submission order.</p></li>
<li><p><strong>study</strong> (<a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.types.StudySpec"><em>StudySpec</em></a>) – Study metadata associated with the task.</p></li>
<li><p><strong>config</strong> (<em>ConfigT</em>) – Pipeline-specific hyper-parameter configuration.</p></li>
<li><p><strong>base_cli</strong> (<em>Tuple</em><em>[</em><em>str</em><em>, </em><em>...</em><em>]</em>) – Baseline CLI arguments reused across tasks.</p></li>
<li><p><strong>extra_cli</strong> (<em>Tuple</em><em>[</em><em>str</em><em>, </em><em>...</em><em>]</em>) – Additional passthrough CLI arguments.</p></li>
<li><p><strong>run_root</strong> (<em>Path</em>) – Directory where sweep artefacts are stored.</p></li>
<li><p><strong>metrics_path</strong> (<em>Path</em>) – Expected location of the metrics artefact.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseSweepTask.base_cli">
<span class="sig-name descname"><span class="pre">base_cli</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.BaseSweepTask.base_cli" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseSweepTask.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">common.opinion.sweep_types.ConfigT</span></em><a class="headerlink" href="#common.opinion.BaseSweepTask.config" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseSweepTask.extra_cli">
<span class="sig-name descname"><span class="pre">extra_cli</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.BaseSweepTask.extra_cli" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseSweepTask.index">
<span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.opinion.BaseSweepTask.index" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseSweepTask.metrics_path">
<span class="sig-name descname"><span class="pre">metrics_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.BaseSweepTask.metrics_path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseSweepTask.run_root">
<span class="sig-name descname"><span class="pre">run_root</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.BaseSweepTask.run_root" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.BaseSweepTask.study">
<span class="sig-name descname"><span class="pre">study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><span class="pre">common.pipeline.models.StudySpec</span></a></em><a class="headerlink" href="#common.opinion.BaseSweepTask.study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.MetricsArtifact">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">MetricsArtifact</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/sweep_types.html#MetricsArtifact"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.MetricsArtifact" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Container bundling the on-disk metrics artefact and its payload.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>pathlib.Path</em>)</p></li>
<li><p><strong>payload</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.MetricsArtifact.path">
<span class="sig-name descname"><span class="pre">path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.MetricsArtifact.path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.MetricsArtifact.payload">
<span class="sig-name descname"><span class="pre">payload</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.MetricsArtifact.payload" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.OpinionArtifacts">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">OpinionArtifacts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qa_log</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/results.html#OpinionArtifacts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionArtifacts" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Filesystem artefacts generated while evaluating an opinion study.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metrics</strong> (<em>pathlib.Path</em>)</p></li>
<li><p><strong>predictions</strong> (<em>pathlib.Path</em>)</p></li>
<li><p><strong>qa_log</strong> (<em>pathlib.Path</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionArtifacts.metrics">
<span class="sig-name descname"><span class="pre">metrics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.OpinionArtifacts.metrics" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionArtifacts.predictions">
<span class="sig-name descname"><span class="pre">predictions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.OpinionArtifacts.predictions" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionArtifacts.qa_log">
<span class="sig-name descname"><span class="pre">qa_log</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.OpinionArtifacts.qa_log" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">OpinionCalibrationMetrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">baseline_accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy_delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration_slope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_calibration_slope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_calibration_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration_ece</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_calibration_ece</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kl_divergence_change</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_kl_divergence_change</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">participants</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eligible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#OpinionCalibrationMetrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Common calibration and baseline metrics shared across pipelines.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>baseline_accuracy</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>accuracy_delta</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>calibration_slope</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_calibration_slope</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>calibration_intercept</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_calibration_intercept</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>calibration_ece</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_calibration_ece</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>kl_divergence_change</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_kl_divergence_change</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>participants</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>eligible</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>dataset</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>split</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.accuracy_delta">
<span class="sig-name descname"><span class="pre">accuracy_delta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.accuracy_delta" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.baseline_accuracy">
<span class="sig-name descname"><span class="pre">baseline_accuracy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.baseline_accuracy" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.baseline_calibration_ece">
<span class="sig-name descname"><span class="pre">baseline_calibration_ece</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.baseline_calibration_ece" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.baseline_calibration_intercept">
<span class="sig-name descname"><span class="pre">baseline_calibration_intercept</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.baseline_calibration_intercept" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.baseline_calibration_slope">
<span class="sig-name descname"><span class="pre">baseline_calibration_slope</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.baseline_calibration_slope" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.baseline_kl_divergence_change">
<span class="sig-name descname"><span class="pre">baseline_kl_divergence_change</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.baseline_kl_divergence_change" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.calibration_ece">
<span class="sig-name descname"><span class="pre">calibration_ece</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.calibration_ece" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.calibration_intercept">
<span class="sig-name descname"><span class="pre">calibration_intercept</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.calibration_intercept" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.calibration_slope">
<span class="sig-name descname"><span class="pre">calibration_slope</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.calibration_slope" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.dataset">
<span class="sig-name descname"><span class="pre">dataset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.dataset" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.eligible">
<span class="sig-name descname"><span class="pre">eligible</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.eligible" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.kl_divergence_change">
<span class="sig-name descname"><span class="pre">kl_divergence_change</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.kl_divergence_change" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.participants">
<span class="sig-name descname"><span class="pre">participants</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.participants" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionCalibrationMetrics.split">
<span class="sig-name descname"><span class="pre">split</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionCalibrationMetrics.split" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.OpinionEvaluationResult">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">OpinionEvaluationResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">studies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combined_metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/results.html#OpinionEvaluationResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionEvaluationResult" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Aggregated opinion evaluation payload combining per-study metrics.</p>
<p>The constructor accepts either a mapping keyed by study identifier or a
sequence of <a class="reference internal" href="#common.opinion.OpinionStudyResult" title="common.opinion.OpinionStudyResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpinionStudyResult</span></code></a> instances. Internally results are
normalised to an ordered mapping to provide consistent access patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>studies</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><a class="reference internal" href="#common.opinion.OpinionStudyResult" title="common.opinion.OpinionStudyResult"><em>OpinionStudyResult</em></a><em>] </em><em>| </em><em>Sequence</em><em>[</em><a class="reference internal" href="#common.opinion.OpinionStudyResult" title="common.opinion.OpinionStudyResult"><em>OpinionStudyResult</em></a><em>] </em><em>| </em><em>None</em>)</p></li>
<li><p><strong>combined_metrics</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>)</p></li>
<li><p><strong>config_label</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionEvaluationResult.combined_metrics">
<span class="sig-name descname"><span class="pre">combined_metrics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.OpinionEvaluationResult.combined_metrics" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionEvaluationResult.config_label">
<span class="sig-name descname"><span class="pre">config_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionEvaluationResult.config_label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.opinion.OpinionEvaluationResult.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/results.html#OpinionEvaluationResult.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionEvaluationResult.get" title="Link to this definition">¶</a></dt>
<dd><p>Return the study result for <code class="docutils literal notranslate"><span class="pre">key</span></code> if present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – Study identifier used as the mapping key.</p></li>
<li><p><strong>default</strong> (<a class="reference internal" href="#common.opinion.OpinionStudyResult" title="common.opinion.results.OpinionStudyResult"><em>common.opinion.results.OpinionStudyResult</em></a><em> | </em><em>None</em>) – Value returned when <code class="docutils literal notranslate"><span class="pre">key</span></code> is not present.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The <a class="reference internal" href="#common.opinion.OpinionStudyResult" title="common.opinion.OpinionStudyResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpinionStudyResult</span></code></a> for <code class="docutils literal notranslate"><span class="pre">key</span></code> or <code class="docutils literal notranslate"><span class="pre">default</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#common.opinion.OpinionStudyResult" title="common.opinion.results.OpinionStudyResult">common.opinion.results.OpinionStudyResult</a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.opinion.OpinionEvaluationResult.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/results.html#OpinionEvaluationResult.items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionEvaluationResult.items" title="Link to this definition">¶</a></dt>
<dd><p>Convenience helper mirroring mapping <code class="docutils literal notranslate"><span class="pre">items</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.opinion.OpinionEvaluationResult.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/results.html#OpinionEvaluationResult.keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionEvaluationResult.keys" title="Link to this definition">¶</a></dt>
<dd><p>Convenience helper mirroring mapping <code class="docutils literal notranslate"><span class="pre">keys</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.OpinionEvaluationResult.studies">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">studies</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#common.opinion.OpinionStudyResult" title="common.opinion.results.OpinionStudyResult"><span class="pre">common.opinion.results.OpinionStudyResult</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.OpinionEvaluationResult.studies" title="Link to this definition">¶</a></dt>
<dd><p>Mapping of study key to the corresponding evaluation result.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.opinion.OpinionEvaluationResult.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/results.html#OpinionEvaluationResult.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionEvaluationResult.values" title="Link to this definition">¶</a></dt>
<dd><p>Convenience helper mirroring mapping <code class="docutils literal notranslate"><span class="pre">values</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.OpinionExample">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">OpinionExample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#OpinionExample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionExample" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Collapsed participant-level prompt and opinion measurements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_id</strong> (<em>str</em>)</p></li>
<li><p><strong>participant_study</strong> (<em>str</em>)</p></li>
<li><p><strong>issue</strong> (<em>str</em>)</p></li>
<li><p><strong>document</strong> (<em>str</em>)</p></li>
<li><p><strong>before</strong> (<em>float</em>)</p></li>
<li><p><strong>after</strong> (<em>float</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionExample.after">
<span class="sig-name descname"><span class="pre">after</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.OpinionExample.after" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionExample.before">
<span class="sig-name descname"><span class="pre">before</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.OpinionExample.before" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionExample.document">
<span class="sig-name descname"><span class="pre">document</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionExample.document" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionExample.issue">
<span class="sig-name descname"><span class="pre">issue</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionExample.issue" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionExample.participant_id">
<span class="sig-name descname"><span class="pre">participant_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionExample.participant_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionExample.participant_study">
<span class="sig-name descname"><span class="pre">participant_study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionExample.participant_study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.OpinionExampleInputs">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">OpinionExampleInputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#OpinionExampleInputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionExampleInputs" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Standardised collection of participant identifiers and opinion values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_id</strong> (<em>str</em>)</p></li>
<li><p><strong>document</strong> (<em>str</em>)</p></li>
<li><p><strong>before</strong> (<em>float</em>)</p></li>
<li><p><strong>after</strong> (<em>float</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionExampleInputs.after">
<span class="sig-name descname"><span class="pre">after</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.OpinionExampleInputs.after" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionExampleInputs.before">
<span class="sig-name descname"><span class="pre">before</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.OpinionExampleInputs.before" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionExampleInputs.document">
<span class="sig-name descname"><span class="pre">document</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionExampleInputs.document" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionExampleInputs.participant_id">
<span class="sig-name descname"><span class="pre">participant_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionExampleInputs.participant_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">OpinionMetricsView</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">participants</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mae</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_mae</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mae_delta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_accuracy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy_delta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rmse_change</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_rmse_change</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration_ece</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_calibration_ece</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kl_divergence_change</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_kl_divergence_change</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/metrics.html#OpinionMetricsView"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionMetricsView" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Normalised view across KNN and XGB opinion summary payloads.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participants</strong> (<em>float</em>)</p></li>
<li><p><strong>mae</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_mae</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>mae_delta</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>accuracy</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_accuracy</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>accuracy_delta</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>rmse_change</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_rmse_change</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>calibration_ece</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_calibration_ece</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>kl_divergence_change</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_kl_divergence_change</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.accuracy">
<span class="sig-name descname"><span class="pre">accuracy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.accuracy" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.accuracy_delta">
<span class="sig-name descname"><span class="pre">accuracy_delta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.accuracy_delta" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.baseline_accuracy">
<span class="sig-name descname"><span class="pre">baseline_accuracy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.baseline_accuracy" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.baseline_calibration_ece">
<span class="sig-name descname"><span class="pre">baseline_calibration_ece</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.baseline_calibration_ece" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.baseline_kl_divergence_change">
<span class="sig-name descname"><span class="pre">baseline_kl_divergence_change</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.baseline_kl_divergence_change" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.baseline_mae">
<span class="sig-name descname"><span class="pre">baseline_mae</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.baseline_mae" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.baseline_rmse_change">
<span class="sig-name descname"><span class="pre">baseline_rmse_change</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.baseline_rmse_change" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.calibration_ece">
<span class="sig-name descname"><span class="pre">calibration_ece</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.calibration_ece" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.kl_divergence_change">
<span class="sig-name descname"><span class="pre">kl_divergence_change</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.kl_divergence_change" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.mae">
<span class="sig-name descname"><span class="pre">mae</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.mae" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.mae_delta">
<span class="sig-name descname"><span class="pre">mae_delta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.mae_delta" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.participants">
<span class="sig-name descname"><span class="pre">participants</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.participants" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionMetricsView.rmse_change">
<span class="sig-name descname"><span class="pre">rmse_change</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionMetricsView.rmse_change" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.OpinionSpec">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">OpinionSpec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after_column</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#OpinionSpec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionSpec" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration describing one opinion-study index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>)</p></li>
<li><p><strong>issue</strong> (<em>str</em>)</p></li>
<li><p><strong>label</strong> (<em>str</em>)</p></li>
<li><p><strong>before_column</strong> (<em>str</em>)</p></li>
<li><p><strong>after_column</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionSpec.after_column">
<span class="sig-name descname"><span class="pre">after_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionSpec.after_column" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionSpec.before_column">
<span class="sig-name descname"><span class="pre">before_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionSpec.before_column" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.opinion.OpinionSpec.build_example_kwargs">
<span class="sig-name descname"><span class="pre">build_example_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#OpinionSpec.build_example_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionSpec.build_example_kwargs" title="Link to this definition">¶</a></dt>
<dd><p>Return the standard keyword arguments for an <code class="docutils literal notranslate"><span class="pre">OpinionExample</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_id</strong> (<em>str</em>) – Participant identifier associated with the example.</p></li>
<li><p><strong>document</strong> (<em>str</em>) – Prompt document presented to the participant.</p></li>
<li><p><strong>before</strong> (<em>float</em>) – Pre-study opinion value.</p></li>
<li><p><strong>after</strong> (<em>float</em>) – Post-study opinion value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of keyword arguments suitable for <a class="reference internal" href="#common.opinion.opinion_example_kwargs" title="common.opinion.opinion_example_kwargs"><code class="xref py py-func docutils literal notranslate"><span class="pre">opinion_example_kwargs()</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, object]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionSpec.issue">
<span class="sig-name descname"><span class="pre">issue</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionSpec.issue" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionSpec.key">
<span class="sig-name descname"><span class="pre">key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionSpec.key" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionSpec.label">
<span class="sig-name descname"><span class="pre">label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionSpec.label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">OpinionStudyResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">participants</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eligible</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">artifacts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/results.html#OpinionStudyResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.OpinionStudyResult" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Normalised payload capturing per-study opinion evaluation outputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>study_key</strong> (<em>str</em>)</p></li>
<li><p><strong>study_label</strong> (<em>str</em>)</p></li>
<li><p><strong>issue</strong> (<em>str</em>)</p></li>
<li><p><strong>participants</strong> (<em>int</em>)</p></li>
<li><p><strong>eligible</strong> (<em>int</em>)</p></li>
<li><p><strong>metrics</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>)</p></li>
<li><p><strong>baseline</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>)</p></li>
<li><p><strong>artifacts</strong> (<a class="reference internal" href="#common.opinion.OpinionArtifacts" title="common.opinion.OpinionArtifacts"><em>OpinionArtifacts</em></a>)</p></li>
<li><p><strong>spec</strong> (<a class="reference internal" href="#common.opinion.OpinionSpec" title="common.opinion.OpinionSpec"><em>OpinionSpec</em></a><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.artifacts">
<span class="sig-name descname"><span class="pre">artifacts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.opinion.OpinionArtifacts" title="common.opinion.OpinionArtifacts"><span class="pre">OpinionArtifacts</span></a></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.artifacts" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.baseline">
<span class="sig-name descname"><span class="pre">baseline</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.baseline" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.eligible">
<span class="sig-name descname"><span class="pre">eligible</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.eligible" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.issue">
<span class="sig-name descname"><span class="pre">issue</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.issue" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.metrics">
<span class="sig-name descname"><span class="pre">metrics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.metrics" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.metrics_path">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metrics_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.metrics_path" title="Link to this definition">¶</a></dt>
<dd><p>Return the metrics JSON artefact path.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.participants">
<span class="sig-name descname"><span class="pre">participants</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.participants" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.predictions_path">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">predictions_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.predictions_path" title="Link to this definition">¶</a></dt>
<dd><p>Return the predictions JSONL artefact path.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.qa_log_path">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">qa_log_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.qa_log_path" title="Link to this definition">¶</a></dt>
<dd><p>Return the QA log artefact path.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.spec">
<span class="sig-name descname"><span class="pre">spec</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.opinion.OpinionSpec" title="common.opinion.OpinionSpec"><span class="pre">OpinionSpec</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.spec" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.study_key">
<span class="sig-name descname"><span class="pre">study_key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.study_key" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.OpinionStudyResult.study_label">
<span class="sig-name descname"><span class="pre">study_label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.OpinionStudyResult.study_label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.build_opinion_example">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">build_opinion_example</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#build_opinion_example"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.build_opinion_example" title="Link to this definition">¶</a></dt>
<dd><p>Construct an opinion example instance using the provided factory callable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spec</strong> (<a class="reference internal" href="#common.opinion.OpinionSpec" title="common.opinion.OpinionSpec"><em>OpinionSpec</em></a>) – Opinion specification describing the study identifiers.</p></li>
<li><p><strong>factory</strong> (<em>Callable</em><em>[</em><em>...</em><em>, </em><em>ExampleT</em><em>]</em>) – Callable (usually a dataclass) used to instantiate the example.</p></li>
<li><p><strong>inputs</strong> (<a class="reference internal" href="#common.opinion.OpinionExampleInputs" title="common.opinion.OpinionExampleInputs"><em>OpinionExampleInputs</em></a>) – Structured collection of participant identifiers and values.</p></li>
<li><p><strong>extra_fields</strong> (<em>object</em>) – Additional keyword arguments forwarded to <code class="docutils literal notranslate"><span class="pre">factory</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance created by <code class="docutils literal notranslate"><span class="pre">factory</span></code> populated with shared fields.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ExampleT</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.compute_opinion_metrics">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">compute_opinion_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">truth_after</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truth_before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_after</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction_tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/metrics.html#compute_opinion_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.compute_opinion_metrics" title="Link to this definition">¶</a></dt>
<dd><p>Compute opinion regression metrics shared by the KNN and XGBoost pipelines.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>truth_after</strong> (<em>Sequence</em><em>[</em><em>float</em><em>]</em>) – Ground-truth post-study opinion indices.</p></li>
<li><p><strong>truth_before</strong> (<em>Sequence</em><em>[</em><em>float</em><em>]</em>) – Ground-truth pre-study opinion indices.</p></li>
<li><p><strong>pred_after</strong> (<em>Sequence</em><em>[</em><em>float</em><em>]</em>) – Predicted post-study opinion indices.</p></li>
<li><p><strong>direction_tolerance</strong> (<em>float</em>) – Threshold below which opinion deltas are treated as no-change.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary containing error metrics, calibration summaries, and sample counts.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.ensure_train_examples">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">ensure_train_examples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_examples</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#ensure_train_examples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.ensure_train_examples" title="Link to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">True</span></code> when <code class="docutils literal notranslate"><span class="pre">train_examples</span></code> is non-empty, otherwise log a warning.</p>
<p>Centralises the empty-train guard so opinion pipelines avoid duplicating
identical warning blocks when overlap removal exhausts the training set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_examples</strong> (<em>Sequence</em><em>[</em><em>common.opinion.models.ExampleT</em><em>]</em>) – Training examples collected for the study.</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em>) – Logger used for emitting warning messages.</p></li>
<li><p><strong>message</strong> (<em>str</em>) – Log message template passed to <code class="docutils literal notranslate"><span class="pre">logging.Logger.warning</span></code>.</p></li>
<li><p><strong>args</strong> (<em>Sequence</em><em>[</em><em>object</em><em>] </em><em>| </em><em>None</em>) – Optional sequence of arguments interpolated into <code class="docutils literal notranslate"><span class="pre">message</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">train_examples</span></code> contains elements, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.exclude_eval_participants">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">exclude_eval_participants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_examples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_examples</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'[OPINION]'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#exclude_eval_participants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.exclude_eval_participants" title="Link to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">train_examples</span></code> filtered to remove participants in <code class="docutils literal notranslate"><span class="pre">eval_examples</span></code>.</p>
<p>Consolidating the overlap removal logic keeps pipelines free of duplicate
list comprehensions that pylint otherwise flags under the duplicate-code
checker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_examples</strong> (<em>Sequence</em><em>[</em><em>common.opinion.models.ExampleT</em><em>]</em>) – Training examples collected for the study.</p></li>
<li><p><strong>eval_examples</strong> (<em>Sequence</em><em>[</em><em>common.opinion.models.ExampleT</em><em>]</em>) – Evaluation examples collected for the study.</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em>) – Logger used for emitting overlap summaries.</p></li>
<li><p><strong>study_key</strong> (<em>str</em>) – Study identifier included in the log message.</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – Prefix inserted at the beginning of the log message.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filtered list of training examples without overlapping participants.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[common.opinion.models.ExampleT]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.float_or_none">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">float_or_none</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#float_or_none"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.float_or_none" title="Link to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">value</span></code> as <code class="docutils literal notranslate"><span class="pre">float</span></code> when possible, otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Any</em>) – Candidate numeric value.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Float representation or <code class="docutils literal notranslate"><span class="pre">None</span></code> when parsing fails or value is NaN.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.format_opinion_user_prompt">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">format_opinion_user_prompt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_study_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viewer_context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_watch_instruction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/prompts.html#format_opinion_user_prompt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.format_opinion_user_prompt" title="Link to this definition">¶</a></dt>
<dd><p>Compose the user message guiding opinion prediction responses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>issue_label</strong> (<em>str</em>) – Human-readable issue label (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;Gun</span> <span class="pre">Control&quot;</span></code>).</p></li>
<li><p><strong>pre_study_index</strong> (<em>float</em>) – Participant’s pre-study opinion index.</p></li>
<li><p><strong>viewer_context</strong> (<em>str</em>) – Context document describing the participant.</p></li>
<li><p><strong>post_watch_instruction</strong> (<em>str</em>) – Instruction describing the post-viewing estimation.</p></li>
<li><p><strong>extra_lines</strong> (<em>Sequence</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Optional lines appended after the standard instructions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Markdown-formatted user prompt string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.log_participant_counts">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">log_participant_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">study_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'[OPINION]'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#log_participant_counts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.log_participant_counts" title="Link to this definition">¶</a></dt>
<dd><p>Emit a standardised log line for train/eval participant counts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>logger</strong> (<em>logging.Logger</em>) – Logger receiving the formatted message.</p></li>
<li><p><strong>study_key</strong> (<em>str</em>) – Study identifier included in the log line.</p></li>
<li><p><strong>train_count</strong> (<em>int</em>) – Number of participants observed in the training split.</p></li>
<li><p><strong>eval_count</strong> (<em>int</em>) – Number of participants observed in the evaluation split.</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – Log message prefix inserted before the structured fields.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.make_opinion_example">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">make_opinion_example</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory=&lt;class</span> <span class="pre">'common.opinion.models.OpinionExample'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**extra_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#make_opinion_example"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.make_opinion_example" title="Link to this definition">¶</a></dt>
<dd><p>Convenience wrapper around <a class="reference internal" href="#common.opinion.models.build_opinion_example" title="common.opinion.models.build_opinion_example"><code class="xref py py-func docutils literal notranslate"><span class="pre">build_opinion_example()</span></code></a>.</p>
<p>Provides a lightweight helper so pipelines can override the output factory
while reusing the standardised opinion inputs bundle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spec</strong> (<a class="reference internal" href="#common.opinion.models.OpinionSpec" title="common.opinion.models.OpinionSpec"><em>common.opinion.models.OpinionSpec</em></a>) – Opinion specification describing the study identifiers.</p></li>
<li><p><strong>inputs</strong> (<a class="reference internal" href="#common.opinion.models.OpinionExampleInputs" title="common.opinion.models.OpinionExampleInputs"><em>common.opinion.models.OpinionExampleInputs</em></a>) – Normalised participant inputs produced by <a class="reference internal" href="#common.opinion.models.make_opinion_inputs" title="common.opinion.models.make_opinion_inputs"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_opinion_inputs()</span></code></a>.</p></li>
<li><p><strong>factory</strong> (<em>Callable</em><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><em>common.opinion.models.ExampleT</em><em>]</em>) – Callable constructing the final example instance.</p></li>
<li><p><strong>extra_fields</strong> (<em>object</em>) – Additional keyword arguments forwarded to <code class="docutils literal notranslate"><span class="pre">factory</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance created by <code class="docutils literal notranslate"><span class="pre">factory</span></code> populated with shared fields.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>common.opinion.models.ExampleT</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.make_opinion_example_from_values">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">make_opinion_example_from_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory=&lt;class</span> <span class="pre">'common.opinion.models.OpinionExample'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**extra_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#make_opinion_example_from_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.make_opinion_example_from_values" title="Link to this definition">¶</a></dt>
<dd><p>Construct an opinion example directly from raw participant values.</p>
<p>Consolidates the recurring <code class="docutils literal notranslate"><span class="pre">make_opinion_inputs</span></code> + <code class="docutils literal notranslate"><span class="pre">make_opinion_example</span></code>
pattern across opinion pipelines into a single helper, eliminating duplicate
code blocks flagged by pylint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scores</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em>) – Tuple containing the <code class="docutils literal notranslate"><span class="pre">before</span></code> and <code class="docutils literal notranslate"><span class="pre">after</span></code> opinion scores.</p></li>
<li><p><strong>spec</strong> (<a class="reference internal" href="#common.opinion.models.OpinionSpec" title="common.opinion.models.OpinionSpec"><em>common.opinion.models.OpinionSpec</em></a>)</p></li>
<li><p><strong>participant_id</strong> (<em>str</em>)</p></li>
<li><p><strong>document</strong> (<em>str</em>)</p></li>
<li><p><strong>factory</strong> (<em>Callable</em><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><em>common.opinion.models.ExampleT</em><em>]</em>)</p></li>
<li><p><strong>extra_fields</strong> (<em>object</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>common.opinion.models.ExampleT</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.make_opinion_inputs">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">make_opinion_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#make_opinion_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.make_opinion_inputs" title="Link to this definition">¶</a></dt>
<dd><p>Return a normalised <a class="reference internal" href="#common.opinion.OpinionExampleInputs" title="common.opinion.OpinionExampleInputs"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpinionExampleInputs</span></code></a> bundle.</p>
<p>Creating the dataclass via a helper keeps pipeline implementations concise
while ensuring duplicate code detected by pylint’s similarity checker is
consolidated in one location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_id</strong> (<em>str</em>) – Participant identifier associated with the example.</p></li>
<li><p><strong>document</strong> (<em>str</em>) – Prompt document presented to the participant.</p></li>
<li><p><strong>before</strong> (<em>float</em>) – Pre-study opinion value.</p></li>
<li><p><strong>after</strong> (<em>float</em>) – Post-study opinion value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataclass encapsulating the participant identifiers and opinion scores.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#common.opinion.models.OpinionExampleInputs" title="common.opinion.models.OpinionExampleInputs">common.opinion.models.OpinionExampleInputs</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.opinion_example_kwargs">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">opinion_example_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#opinion_example_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.opinion_example_kwargs" title="Link to this definition">¶</a></dt>
<dd><p>Return keyword arguments common to opinion example dataclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_id</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">participant_id</span></code>.</p></li>
<li><p><strong>participant_study</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">participant_study</span></code>.</p></li>
<li><p><strong>issue</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">issue</span></code>.</p></li>
<li><p><strong>document</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">document</span></code>.</p></li>
<li><p><strong>before</strong> (<em>float</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">before</span></code>.</p></li>
<li><p><strong>after</strong> (<em>float</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">after</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Result produced by <code class="docutils literal notranslate"><span class="pre">opinion_example_kwargs</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, object]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.summarise_opinion_metrics">
<span class="sig-prename descclassname"><span class="pre">common.opinion.</span></span><span class="sig-name descname"><span class="pre">summarise_opinion_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">summary</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefer_after_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/metrics.html#summarise_opinion_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.summarise_opinion_metrics" title="Link to this definition">¶</a></dt>
<dd><p>Return a metric bundle with consistent field names across model families.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>summary</strong> (<em>Any</em>) – Opinion summary object produced by a baseline.</p></li>
<li><p><strong>prefer_after_fields</strong> (<em>bool</em>) – When <code class="docutils literal notranslate"><span class="pre">True</span></code> prefer post-study attribute names.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#common.opinion.OpinionMetricsView" title="common.opinion.OpinionMetricsView"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpinionMetricsView</span></code></a> containing normalised metrics.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#common.opinion.OpinionMetricsView" title="common.opinion.metrics.OpinionMetricsView">common.opinion.metrics.OpinionMetricsView</a></p>
</dd>
</dl>
</dd></dl>

<p id="module-common.opinion.models">Opinion study dataclasses and helpers shared by multiple pipelines.</p>
<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.models.</span></span><span class="sig-name descname"><span class="pre">OpinionCalibrationMetrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">baseline_accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy_delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration_slope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_calibration_slope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_calibration_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration_ece</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_calibration_ece</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kl_divergence_change</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline_kl_divergence_change</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">participants</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eligible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#OpinionCalibrationMetrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Common calibration and baseline metrics shared across pipelines.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>baseline_accuracy</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>accuracy_delta</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>calibration_slope</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_calibration_slope</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>calibration_intercept</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_calibration_intercept</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>calibration_ece</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_calibration_ece</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>kl_divergence_change</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline_kl_divergence_change</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>participants</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>eligible</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>dataset</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>split</strong> (<em>str</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.accuracy_delta">
<span class="sig-name descname"><span class="pre">accuracy_delta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.accuracy_delta" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.baseline_accuracy">
<span class="sig-name descname"><span class="pre">baseline_accuracy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.baseline_accuracy" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.baseline_calibration_ece">
<span class="sig-name descname"><span class="pre">baseline_calibration_ece</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.baseline_calibration_ece" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.baseline_calibration_intercept">
<span class="sig-name descname"><span class="pre">baseline_calibration_intercept</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.baseline_calibration_intercept" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.baseline_calibration_slope">
<span class="sig-name descname"><span class="pre">baseline_calibration_slope</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.baseline_calibration_slope" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.baseline_kl_divergence_change">
<span class="sig-name descname"><span class="pre">baseline_kl_divergence_change</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.baseline_kl_divergence_change" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.calibration_ece">
<span class="sig-name descname"><span class="pre">calibration_ece</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.calibration_ece" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.calibration_intercept">
<span class="sig-name descname"><span class="pre">calibration_intercept</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.calibration_intercept" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.calibration_slope">
<span class="sig-name descname"><span class="pre">calibration_slope</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.calibration_slope" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.dataset">
<span class="sig-name descname"><span class="pre">dataset</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.dataset" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.eligible">
<span class="sig-name descname"><span class="pre">eligible</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.eligible" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.kl_divergence_change">
<span class="sig-name descname"><span class="pre">kl_divergence_change</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.kl_divergence_change" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.participants">
<span class="sig-name descname"><span class="pre">participants</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.participants" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionCalibrationMetrics.split">
<span class="sig-name descname"><span class="pre">split</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.models.OpinionCalibrationMetrics.split" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExample">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.models.</span></span><span class="sig-name descname"><span class="pre">OpinionExample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#OpinionExample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.models.OpinionExample" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Collapsed participant-level prompt and opinion measurements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_id</strong> (<em>str</em>)</p></li>
<li><p><strong>participant_study</strong> (<em>str</em>)</p></li>
<li><p><strong>issue</strong> (<em>str</em>)</p></li>
<li><p><strong>document</strong> (<em>str</em>)</p></li>
<li><p><strong>before</strong> (<em>float</em>)</p></li>
<li><p><strong>after</strong> (<em>float</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExample.after">
<span class="sig-name descname"><span class="pre">after</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.models.OpinionExample.after" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExample.before">
<span class="sig-name descname"><span class="pre">before</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.models.OpinionExample.before" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExample.document">
<span class="sig-name descname"><span class="pre">document</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.models.OpinionExample.document" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExample.issue">
<span class="sig-name descname"><span class="pre">issue</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.models.OpinionExample.issue" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExample.participant_id">
<span class="sig-name descname"><span class="pre">participant_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.models.OpinionExample.participant_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExample.participant_study">
<span class="sig-name descname"><span class="pre">participant_study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.models.OpinionExample.participant_study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExampleInputs">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.models.</span></span><span class="sig-name descname"><span class="pre">OpinionExampleInputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#OpinionExampleInputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.models.OpinionExampleInputs" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Standardised collection of participant identifiers and opinion values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_id</strong> (<em>str</em>)</p></li>
<li><p><strong>document</strong> (<em>str</em>)</p></li>
<li><p><strong>before</strong> (<em>float</em>)</p></li>
<li><p><strong>after</strong> (<em>float</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExampleInputs.after">
<span class="sig-name descname"><span class="pre">after</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.models.OpinionExampleInputs.after" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExampleInputs.before">
<span class="sig-name descname"><span class="pre">before</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.models.OpinionExampleInputs.before" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExampleInputs.document">
<span class="sig-name descname"><span class="pre">document</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.models.OpinionExampleInputs.document" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionExampleInputs.participant_id">
<span class="sig-name descname"><span class="pre">participant_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.models.OpinionExampleInputs.participant_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.models.OpinionSpec">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.models.</span></span><span class="sig-name descname"><span class="pre">OpinionSpec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after_column</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#OpinionSpec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.models.OpinionSpec" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Configuration describing one opinion-study index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>)</p></li>
<li><p><strong>issue</strong> (<em>str</em>)</p></li>
<li><p><strong>label</strong> (<em>str</em>)</p></li>
<li><p><strong>before_column</strong> (<em>str</em>)</p></li>
<li><p><strong>after_column</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionSpec.after_column">
<span class="sig-name descname"><span class="pre">after_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.models.OpinionSpec.after_column" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionSpec.before_column">
<span class="sig-name descname"><span class="pre">before_column</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.models.OpinionSpec.before_column" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="common.opinion.models.OpinionSpec.build_example_kwargs">
<span class="sig-name descname"><span class="pre">build_example_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#OpinionSpec.build_example_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.models.OpinionSpec.build_example_kwargs" title="Link to this definition">¶</a></dt>
<dd><p>Return the standard keyword arguments for an <code class="docutils literal notranslate"><span class="pre">OpinionExample</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_id</strong> (<em>str</em>) – Participant identifier associated with the example.</p></li>
<li><p><strong>document</strong> (<em>str</em>) – Prompt document presented to the participant.</p></li>
<li><p><strong>before</strong> (<em>float</em>) – Pre-study opinion value.</p></li>
<li><p><strong>after</strong> (<em>float</em>) – Post-study opinion value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of keyword arguments suitable for <a class="reference internal" href="#common.opinion.opinion_example_kwargs" title="common.opinion.opinion_example_kwargs"><code class="xref py py-func docutils literal notranslate"><span class="pre">opinion_example_kwargs()</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, object]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionSpec.issue">
<span class="sig-name descname"><span class="pre">issue</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.models.OpinionSpec.issue" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionSpec.key">
<span class="sig-name descname"><span class="pre">key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.models.OpinionSpec.key" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.models.OpinionSpec.label">
<span class="sig-name descname"><span class="pre">label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.opinion.models.OpinionSpec.label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.models.build_opinion_example">
<span class="sig-prename descclassname"><span class="pre">common.opinion.models.</span></span><span class="sig-name descname"><span class="pre">build_opinion_example</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#build_opinion_example"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.models.build_opinion_example" title="Link to this definition">¶</a></dt>
<dd><p>Construct an opinion example instance using the provided factory callable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spec</strong> (<a class="reference internal" href="#common.opinion.OpinionSpec" title="common.opinion.OpinionSpec"><em>OpinionSpec</em></a>) – Opinion specification describing the study identifiers.</p></li>
<li><p><strong>factory</strong> (<em>Callable</em><em>[</em><em>...</em><em>, </em><em>ExampleT</em><em>]</em>) – Callable (usually a dataclass) used to instantiate the example.</p></li>
<li><p><strong>inputs</strong> (<a class="reference internal" href="#common.opinion.OpinionExampleInputs" title="common.opinion.OpinionExampleInputs"><em>OpinionExampleInputs</em></a>) – Structured collection of participant identifiers and values.</p></li>
<li><p><strong>extra_fields</strong> (<em>object</em>) – Additional keyword arguments forwarded to <code class="docutils literal notranslate"><span class="pre">factory</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance created by <code class="docutils literal notranslate"><span class="pre">factory</span></code> populated with shared fields.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ExampleT</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.models.float_or_none">
<span class="sig-prename descclassname"><span class="pre">common.opinion.models.</span></span><span class="sig-name descname"><span class="pre">float_or_none</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#float_or_none"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.models.float_or_none" title="Link to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">value</span></code> as <code class="docutils literal notranslate"><span class="pre">float</span></code> when possible, otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>Any</em>) – Candidate numeric value.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Float representation or <code class="docutils literal notranslate"><span class="pre">None</span></code> when parsing fails or value is NaN.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.models.make_opinion_example">
<span class="sig-prename descclassname"><span class="pre">common.opinion.models.</span></span><span class="sig-name descname"><span class="pre">make_opinion_example</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factory=&lt;class</span> <span class="pre">'common.opinion.models.OpinionExample'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**extra_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#make_opinion_example"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.models.make_opinion_example" title="Link to this definition">¶</a></dt>
<dd><p>Convenience wrapper around <a class="reference internal" href="#common.opinion.models.build_opinion_example" title="common.opinion.models.build_opinion_example"><code class="xref py py-func docutils literal notranslate"><span class="pre">build_opinion_example()</span></code></a>.</p>
<p>Provides a lightweight helper so pipelines can override the output factory
while reusing the standardised opinion inputs bundle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spec</strong> (<a class="reference internal" href="#common.opinion.models.OpinionSpec" title="common.opinion.models.OpinionSpec"><em>common.opinion.models.OpinionSpec</em></a>) – Opinion specification describing the study identifiers.</p></li>
<li><p><strong>inputs</strong> (<a class="reference internal" href="#common.opinion.models.OpinionExampleInputs" title="common.opinion.models.OpinionExampleInputs"><em>common.opinion.models.OpinionExampleInputs</em></a>) – Normalised participant inputs produced by <a class="reference internal" href="#common.opinion.models.make_opinion_inputs" title="common.opinion.models.make_opinion_inputs"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_opinion_inputs()</span></code></a>.</p></li>
<li><p><strong>factory</strong> (<em>Callable</em><em>[</em><em>[</em><em>...</em><em>]</em><em>, </em><em>common.opinion.models.ExampleT</em><em>]</em>) – Callable constructing the final example instance.</p></li>
<li><p><strong>extra_fields</strong> (<em>object</em>) – Additional keyword arguments forwarded to <code class="docutils literal notranslate"><span class="pre">factory</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Instance created by <code class="docutils literal notranslate"><span class="pre">factory</span></code> populated with shared fields.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>common.opinion.models.ExampleT</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.models.make_opinion_inputs">
<span class="sig-prename descclassname"><span class="pre">common.opinion.models.</span></span><span class="sig-name descname"><span class="pre">make_opinion_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#make_opinion_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.models.make_opinion_inputs" title="Link to this definition">¶</a></dt>
<dd><p>Return a normalised <a class="reference internal" href="#common.opinion.OpinionExampleInputs" title="common.opinion.OpinionExampleInputs"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpinionExampleInputs</span></code></a> bundle.</p>
<p>Creating the dataclass via a helper keeps pipeline implementations concise
while ensuring duplicate code detected by pylint’s similarity checker is
consolidated in one location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_id</strong> (<em>str</em>) – Participant identifier associated with the example.</p></li>
<li><p><strong>document</strong> (<em>str</em>) – Prompt document presented to the participant.</p></li>
<li><p><strong>before</strong> (<em>float</em>) – Pre-study opinion value.</p></li>
<li><p><strong>after</strong> (<em>float</em>) – Post-study opinion value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dataclass encapsulating the participant identifiers and opinion scores.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#common.opinion.models.OpinionExampleInputs" title="common.opinion.models.OpinionExampleInputs">common.opinion.models.OpinionExampleInputs</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.opinion.models.opinion_example_kwargs">
<span class="sig-prename descclassname"><span class="pre">common.opinion.models.</span></span><span class="sig-name descname"><span class="pre">opinion_example_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">participant_study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/models.html#opinion_example_kwargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.models.opinion_example_kwargs" title="Link to this definition">¶</a></dt>
<dd><p>Return keyword arguments common to opinion example dataclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>participant_id</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">participant_id</span></code>.</p></li>
<li><p><strong>participant_study</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">participant_study</span></code>.</p></li>
<li><p><strong>issue</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">issue</span></code>.</p></li>
<li><p><strong>document</strong> (<em>str</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">document</span></code>.</p></li>
<li><p><strong>before</strong> (<em>float</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">before</span></code>.</p></li>
<li><p><strong>after</strong> (<em>float</em>) – Value provided for <code class="docutils literal notranslate"><span class="pre">after</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Result produced by <code class="docutils literal notranslate"><span class="pre">opinion_example_kwargs</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, object]</p>
</dd>
</dl>
</dd></dl>

<p id="module-common.opinion.sweep_types">Common opinion sweep data structures shared across pipeline packages.</p>
<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.sweep_types.AccuracySummary">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.sweep_types.</span></span><span class="sig-name descname"><span class="pre">AccuracySummary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baseline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eligible</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/sweep_types.html#AccuracySummary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.sweep_types.AccuracySummary" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Capture directional accuracy metrics emitted by sweep evaluations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>baseline</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>delta</strong> (<em>float</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>eligible</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.AccuracySummary.baseline">
<span class="sig-name descname"><span class="pre">baseline</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.sweep_types.AccuracySummary.baseline" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.AccuracySummary.delta">
<span class="sig-name descname"><span class="pre">delta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.sweep_types.AccuracySummary.delta" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.AccuracySummary.eligible">
<span class="sig-name descname"><span class="pre">eligible</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.sweep_types.AccuracySummary.eligible" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.AccuracySummary.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.sweep_types.AccuracySummary.value" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.sweep_types.</span></span><span class="sig-name descname"><span class="pre">BaseOpinionSweepOutcome</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mae</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rmse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">artifact</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy_summary</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/sweep_types.html#BaseOpinionSweepOutcome"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">common.opinion.sweep_types.ConfigT</span></code>]</p>
<p>Metrics captured for a (study, configuration) opinion sweep evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order_index</strong> (<em>int</em>) – Deterministic ordering index assigned to the task.</p></li>
<li><p><strong>study</strong> (<a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.types.StudySpec"><em>StudySpec</em></a>) – Study metadata associated with the sweep.</p></li>
<li><p><strong>config</strong> (<em>ConfigT</em>) – Evaluated sweep configuration.</p></li>
<li><p><strong>mae</strong> (<em>float</em>) – Mean absolute error achieved by the configuration.</p></li>
<li><p><strong>rmse</strong> (<em>float</em>) – Root mean squared error achieved by the configuration.</p></li>
<li><p><strong>artifact</strong> (<a class="reference internal" href="#common.opinion.sweep_types.MetricsArtifact" title="common.opinion.sweep_types.MetricsArtifact"><em>MetricsArtifact</em></a>) – Metrics artefact containing the payload and storage path.</p></li>
<li><p><strong>accuracy_summary</strong> (<a class="reference internal" href="#common.opinion.sweep_types.AccuracySummary" title="common.opinion.sweep_types.AccuracySummary"><em>AccuracySummary</em></a>) – Summary of directional accuracy metrics.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.accuracy">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">accuracy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.accuracy" title="Link to this definition">¶</a></dt>
<dd><p>Directional accuracy achieved by the configuration.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.accuracy_delta">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">accuracy_delta</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.accuracy_delta" title="Link to this definition">¶</a></dt>
<dd><p>Improvement in accuracy over the baseline configuration.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.accuracy_summary">
<span class="sig-name descname"><span class="pre">accuracy_summary</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.opinion.sweep_types.AccuracySummary" title="common.opinion.sweep_types.AccuracySummary"><span class="pre">common.opinion.sweep_types.AccuracySummary</span></a></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.accuracy_summary" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.artifact">
<span class="sig-name descname"><span class="pre">artifact</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.opinion.sweep_types.MetricsArtifact" title="common.opinion.sweep_types.MetricsArtifact"><span class="pre">common.opinion.sweep_types.MetricsArtifact</span></a></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.artifact" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.baseline_accuracy">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">baseline_accuracy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.baseline_accuracy" title="Link to this definition">¶</a></dt>
<dd><p>Directional accuracy achieved by the baseline configuration.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">common.opinion.sweep_types.ConfigT</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.config" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.eligible">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">eligible</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.eligible" title="Link to this definition">¶</a></dt>
<dd><p>Number of evaluation examples contributing to accuracy metrics.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.mae">
<span class="sig-name descname"><span class="pre">mae</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.mae" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.metrics">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metrics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.metrics" title="Link to this definition">¶</a></dt>
<dd><p>Return the raw metrics payload loaded from disk.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.metrics_path">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metrics_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.metrics_path" title="Link to this definition">¶</a></dt>
<dd><p>Return the filesystem path to the persisted metrics artefact.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.order_index">
<span class="sig-name descname"><span class="pre">order_index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.order_index" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.rmse">
<span class="sig-name descname"><span class="pre">rmse</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.rmse" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepOutcome.study">
<span class="sig-name descname"><span class="pre">study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><span class="pre">common.pipeline.models.StudySpec</span></a></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepTask">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.sweep_types.</span></span><span class="sig-name descname"><span class="pre">BaseOpinionSweepTask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/sweep_types.html#BaseOpinionSweepTask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepTask" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">common.opinion.sweep_types.ConfigT</span></code>]</p>
<p>Describe shared attributes for opinion sweep execution tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – Stable ordinal used to preserve submission order.</p></li>
<li><p><strong>study</strong> (<a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.types.StudySpec"><em>StudySpec</em></a>) – Study metadata associated with the task.</p></li>
<li><p><strong>config</strong> (<em>ConfigT</em>) – Pipeline-specific hyper-parameter configuration.</p></li>
<li><p><strong>metrics_path</strong> (<em>Path</em>) – Expected location of the metrics artefact.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepTask.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">common.opinion.sweep_types.ConfigT</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepTask.config" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepTask.index">
<span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepTask.index" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepTask.metrics_path">
<span class="sig-name descname"><span class="pre">metrics_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepTask.metrics_path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseOpinionSweepTask.study">
<span class="sig-name descname"><span class="pre">study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><span class="pre">common.pipeline.models.StudySpec</span></a></em><a class="headerlink" href="#common.opinion.sweep_types.BaseOpinionSweepTask.study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseSweepTask">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.sweep_types.</span></span><span class="sig-name descname"><span class="pre">BaseSweepTask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_cli</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_cli</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/sweep_types.html#BaseSweepTask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.sweep_types.BaseSweepTask" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">common.opinion.sweep_types.ConfigT</span></code>]</p>
<p>Describe shared attributes for sweep execution tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – Stable ordinal used to preserve submission order.</p></li>
<li><p><strong>study</strong> (<a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.types.StudySpec"><em>StudySpec</em></a>) – Study metadata associated with the task.</p></li>
<li><p><strong>config</strong> (<em>ConfigT</em>) – Pipeline-specific hyper-parameter configuration.</p></li>
<li><p><strong>base_cli</strong> (<em>Tuple</em><em>[</em><em>str</em><em>, </em><em>...</em><em>]</em>) – Baseline CLI arguments reused across tasks.</p></li>
<li><p><strong>extra_cli</strong> (<em>Tuple</em><em>[</em><em>str</em><em>, </em><em>...</em><em>]</em>) – Additional passthrough CLI arguments.</p></li>
<li><p><strong>run_root</strong> (<em>Path</em>) – Directory where sweep artefacts are stored.</p></li>
<li><p><strong>metrics_path</strong> (<em>Path</em>) – Expected location of the metrics artefact.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseSweepTask.base_cli">
<span class="sig-name descname"><span class="pre">base_cli</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseSweepTask.base_cli" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseSweepTask.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">common.opinion.sweep_types.ConfigT</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseSweepTask.config" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseSweepTask.extra_cli">
<span class="sig-name descname"><span class="pre">extra_cli</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseSweepTask.extra_cli" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseSweepTask.index">
<span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseSweepTask.index" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseSweepTask.metrics_path">
<span class="sig-name descname"><span class="pre">metrics_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseSweepTask.metrics_path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseSweepTask.run_root">
<span class="sig-name descname"><span class="pre">run_root</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.sweep_types.BaseSweepTask.run_root" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.BaseSweepTask.study">
<span class="sig-name descname"><span class="pre">study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><span class="pre">common.pipeline.models.StudySpec</span></a></em><a class="headerlink" href="#common.opinion.sweep_types.BaseSweepTask.study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.opinion.sweep_types.MetricsArtifact">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.opinion.sweep_types.</span></span><span class="sig-name descname"><span class="pre">MetricsArtifact</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/opinion/sweep_types.html#MetricsArtifact"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.opinion.sweep_types.MetricsArtifact" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Container bundling the on-disk metrics artefact and its payload.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>pathlib.Path</em>)</p></li>
<li><p><strong>payload</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.MetricsArtifact.path">
<span class="sig-name descname"><span class="pre">path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.opinion.sweep_types.MetricsArtifact.path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.opinion.sweep_types.MetricsArtifact.payload">
<span class="sig-name descname"><span class="pre">payload</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.opinion.sweep_types.MetricsArtifact.payload" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-common.pipeline.types">
<span id="pipeline-types"></span><h2>Pipeline Types<a class="headerlink" href="#module-common.pipeline.types" title="Link to this heading">¶</a></h2>
<p>Generic selection containers shared across pipeline packages.</p>
<dl class="py class">
<dt class="sig sig-object py" id="common.pipeline.types.BasePipelineSweepOutcome">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.pipeline.types.</span></span><span class="sig-name descname"><span class="pre">BasePipelineSweepOutcome</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/pipeline/types.html#BasePipelineSweepOutcome"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.pipeline.types.BasePipelineSweepOutcome" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">common.pipeline.types.ConfigT</span></code>]</p>
<p>Base metrics captured for a (study, configuration) pipeline sweep evaluation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order_index</strong> (<em>int</em>) – Deterministic ordering index assigned to the task.</p></li>
<li><p><strong>study</strong> (<a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><em>StudySpec</em></a>) – Study metadata associated with the sweep.</p></li>
<li><p><strong>config</strong> (<em>ConfigT</em>) – Evaluated sweep configuration.</p></li>
<li><p><strong>metrics_path</strong> (<em>Path</em>) – Filesystem path to the metrics artefact.</p></li>
<li><p><strong>metrics</strong> (<em>Mapping</em><em>[</em><em>str</em><em>, </em><em>object</em><em>]</em>) – Raw metrics payload loaded from disk.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.BasePipelineSweepOutcome.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">common.pipeline.types.ConfigT</span></em><a class="headerlink" href="#common.pipeline.types.BasePipelineSweepOutcome.config" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.BasePipelineSweepOutcome.metrics">
<span class="sig-name descname"><span class="pre">metrics</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">object</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#common.pipeline.types.BasePipelineSweepOutcome.metrics" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.BasePipelineSweepOutcome.metrics_path">
<span class="sig-name descname"><span class="pre">metrics_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">pathlib.Path</span></em><a class="headerlink" href="#common.pipeline.types.BasePipelineSweepOutcome.metrics_path" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.BasePipelineSweepOutcome.order_index">
<span class="sig-name descname"><span class="pre">order_index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#common.pipeline.types.BasePipelineSweepOutcome.order_index" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.BasePipelineSweepOutcome.study">
<span class="sig-name descname"><span class="pre">study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><span class="pre">common.pipeline.models.StudySpec</span></a></em><a class="headerlink" href="#common.pipeline.types.BasePipelineSweepOutcome.study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.pipeline.types.OpinionStudySelection">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.pipeline.types.</span></span><span class="sig-name descname"><span class="pre">OpinionStudySelection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcome</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/pipeline/types.html#OpinionStudySelection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.pipeline.types.OpinionStudySelection" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">common.pipeline.types.OutcomeT</span></code>]</p>
<p>Container describing the selected opinion outcome for a study.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>study</strong> (<a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><em>StudySpec</em></a>) – Study metadata that produced the selected outcome.</p></li>
<li><p><strong>outcome</strong> (<em>OutcomeT</em>) – Opinion outcome chosen for downstream processing.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="common.pipeline.types.OpinionStudySelection.config">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#common.pipeline.types.OpinionStudySelection.config" title="Link to this definition">¶</a></dt>
<dd><p>Expose the configuration associated with the selected opinion outcome.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pipeline configuration stored on the selected opinion outcome.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.OpinionStudySelection.outcome">
<span class="sig-name descname"><span class="pre">outcome</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">common.pipeline.types.OutcomeT</span></em><a class="headerlink" href="#common.pipeline.types.OpinionStudySelection.outcome" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.OpinionStudySelection.study">
<span class="sig-name descname"><span class="pre">study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><span class="pre">common.pipeline.models.StudySpec</span></a></em><a class="headerlink" href="#common.pipeline.types.OpinionStudySelection.study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.pipeline.types.StudySelection">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.pipeline.types.</span></span><span class="sig-name descname"><span class="pre">StudySelection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">study</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcome</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/pipeline/types.html#StudySelection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.pipeline.types.StudySelection" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">common.pipeline.types.OutcomeT</span></code>]</p>
<p>Container describing the selected outcome for a study.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>study</strong> (<a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><em>StudySpec</em></a>) – Study metadata that produced the selected outcome.</p></li>
<li><p><strong>outcome</strong> (<em>OutcomeT</em>) – Outcome object that contains the runnable configuration.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="common.pipeline.types.StudySelection.config">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#common.pipeline.types.StudySelection.config" title="Link to this definition">¶</a></dt>
<dd><p>Expose the configuration associated with the selected outcome.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pipeline configuration stored on the selected outcome.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.pipeline.types.StudySelection.evaluation_slug">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">evaluation_slug</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.pipeline.types.StudySelection.evaluation_slug" title="Link to this definition">¶</a></dt>
<dd><p>Return the evaluation slug derived from the selected study.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Canonical evaluation slug associated with <code class="docutils literal notranslate"><span class="pre">study</span></code>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.StudySelection.outcome">
<span class="sig-name descname"><span class="pre">outcome</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">common.pipeline.types.OutcomeT</span></em><a class="headerlink" href="#common.pipeline.types.StudySelection.outcome" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.StudySelection.study">
<span class="sig-name descname"><span class="pre">study</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#common.pipeline.types.StudySpec" title="common.pipeline.models.StudySpec"><span class="pre">common.pipeline.models.StudySpec</span></a></em><a class="headerlink" href="#common.pipeline.types.StudySelection.study" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="common.pipeline.types.StudySpec">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">common.pipeline.types.</span></span><span class="sig-name descname"><span class="pre">StudySpec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/pipeline/models.html#StudySpec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.pipeline.types.StudySpec" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Participant study metadata shared across pipeline packages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>)</p></li>
<li><p><strong>issue</strong> (<em>str</em>)</p></li>
<li><p><strong>label</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="common.pipeline.types.StudySpec.evaluation_slug">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">evaluation_slug</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.pipeline.types.StudySpec.evaluation_slug" title="Link to this definition">¶</a></dt>
<dd><p>Return the slug used when saving evaluation artefacts.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.StudySpec.issue">
<span class="sig-name descname"><span class="pre">issue</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.pipeline.types.StudySpec.issue" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.pipeline.types.StudySpec.issue_slug">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">issue_slug</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.pipeline.types.StudySpec.issue_slug" title="Link to this definition">¶</a></dt>
<dd><p>Return a filesystem-safe slug for the associated issue.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.StudySpec.key">
<span class="sig-name descname"><span class="pre">key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.pipeline.types.StudySpec.key" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="common.pipeline.types.StudySpec.label">
<span class="sig-name descname"><span class="pre">label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.pipeline.types.StudySpec.label" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="common.pipeline.types.StudySpec.study_slug">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">study_slug</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#common.pipeline.types.StudySpec.study_slug" title="Link to this definition">¶</a></dt>
<dd><p>Return a filesystem-safe slug for the study key.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="common.pipeline.types.narrow_opinion_selection">
<span class="sig-prename descclassname"><span class="pre">common.pipeline.types.</span></span><span class="sig-name descname"><span class="pre">narrow_opinion_selection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_outcome_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/common/pipeline/types.html#narrow_opinion_selection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#common.pipeline.types.narrow_opinion_selection" title="Link to this definition">¶</a></dt>
<dd><p>Return the <a class="reference internal" href="#common.pipeline.types.OpinionStudySelection" title="common.pipeline.types.OpinionStudySelection"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpinionStudySelection</span></code></a> specialised for <code class="docutils literal notranslate"><span class="pre">OutcomeT</span></code>.</p>
<p>Static type checkers understand the specialised generic returned from this helper,
while at runtime the underlying class is reused without instantiating the generic.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>_outcome_type</strong> (<em>Type</em><em>[</em><em>OutcomeT</em><em>]</em>) – Outcome type used purely for static analysis narrowing.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Opinion study selection type parameterised by <code class="docutils literal notranslate"><span class="pre">OutcomeT</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>type[<a class="reference internal" href="#common.pipeline.types.OpinionStudySelection" title="common.pipeline.types.OpinionStudySelection">OpinionStudySelection</a>[OutcomeT]]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-common.reports">
<span id="reporting-utilities"></span><h2>Reporting Utilities<a class="headerlink" href="#module-common.reports" title="Link to this heading">¶</a></h2>
<p>Shared reporting helpers for Markdown outputs.</p>
<p>Utilities under <a class="reference internal" href="#module-common.reports" title="common.reports"><code class="xref py py-mod docutils literal notranslate"><span class="pre">common.reports</span></code></a> provide small, side‑effect‑free
functions for generating Markdown reports and catalogs consumed by the
baseline pipelines. Submodules include table rendering, report file
initialisation, and consolidated portfolio summaries.</p>
<p>The modules are designed to be safe for Sphinx autodoc and unit tests.</p>
</section>
<section id="module-common.visualization">
<span id="visualization-defaults"></span><h2>Visualization Defaults<a class="headerlink" href="#module-common.visualization" title="Link to this heading">¶</a></h2>
<p>Common visualization helpers and defaults.</p>
<p>This package hosts lightweight plotting utilities (for example, Matplotlib
defaults) that are reused by multiple baselines and report generators. Keep
imports optional so the package can be imported during documentation builds
without requiring heavy dependencies.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="prompt_builder.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Prompt Builder API</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="grail.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">GRAIL Utilities</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, GRAIL Simulation Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Common Utilities API</a><ul>
<li><a class="reference internal" href="#common.OpinionStudySelection"><code class="docutils literal notranslate"><span class="pre">OpinionStudySelection</span></code></a><ul>
<li><a class="reference internal" href="#common.OpinionStudySelection.config"><code class="docutils literal notranslate"><span class="pre">OpinionStudySelection.config</span></code></a></li>
<li><a class="reference internal" href="#common.OpinionStudySelection.outcome"><code class="docutils literal notranslate"><span class="pre">OpinionStudySelection.outcome</span></code></a></li>
<li><a class="reference internal" href="#common.OpinionStudySelection.study"><code class="docutils literal notranslate"><span class="pre">OpinionStudySelection.study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.add_comma_separated_argument"><code class="docutils literal notranslate"><span class="pre">add_comma_separated_argument()</span></code></a></li>
<li><a class="reference internal" href="#common.add_sentence_transformer_normalise_flags"><code class="docutils literal notranslate"><span class="pre">add_sentence_transformer_normalise_flags()</span></code></a></li>
<li><a class="reference internal" href="#common.build_opinion_example"><code class="docutils literal notranslate"><span class="pre">build_opinion_example()</span></code></a></li>
<li><a class="reference internal" href="#common.canon_text"><code class="docutils literal notranslate"><span class="pre">canon_text()</span></code></a></li>
<li><a class="reference internal" href="#common.canon_video_id"><code class="docutils literal notranslate"><span class="pre">canon_video_id()</span></code></a></li>
<li><a class="reference internal" href="#common.create_tfidf_vectorizer"><code class="docutils literal notranslate"><span class="pre">create_tfidf_vectorizer()</span></code></a></li>
<li><a class="reference internal" href="#common.ensure_directory"><code class="docutils literal notranslate"><span class="pre">ensure_directory()</span></code></a></li>
<li><a class="reference internal" href="#common.get_logger"><code class="docutils literal notranslate"><span class="pre">get_logger()</span></code></a></li>
<li><a class="reference internal" href="#common.merge_ordered"><code class="docutils literal notranslate"><span class="pre">merge_ordered()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion_example_kwargs"><code class="docutils literal notranslate"><span class="pre">opinion_example_kwargs()</span></code></a></li>
<li><a class="reference internal" href="#common.resolve_paths_from_env"><code class="docutils literal notranslate"><span class="pre">resolve_paths_from_env()</span></code></a></li>
<li><a class="reference internal" href="#common.safe_div"><code class="docutils literal notranslate"><span class="pre">safe_div()</span></code></a></li>
<li><a class="reference internal" href="#common.split_env_list"><code class="docutils literal notranslate"><span class="pre">split_env_list()</span></code></a></li>
<li><a class="reference internal" href="#common.logging.utils.ensure_directory"><code class="docutils literal notranslate"><span class="pre">ensure_directory()</span></code></a></li>
<li><a class="reference internal" href="#common.logging.utils.get_logger"><code class="docutils literal notranslate"><span class="pre">get_logger()</span></code></a></li>
<li><a class="reference internal" href="#common.text.canon_text"><code class="docutils literal notranslate"><span class="pre">canon_text()</span></code></a></li>
<li><a class="reference internal" href="#common.text.canon_video_id"><code class="docutils literal notranslate"><span class="pre">canon_video_id()</span></code></a></li>
<li><a class="reference internal" href="#common.text.create_tfidf_vectorizer"><code class="docutils literal notranslate"><span class="pre">create_tfidf_vectorizer()</span></code></a></li>
<li><a class="reference internal" href="#common.text.resolve_paths_from_env"><code class="docutils literal notranslate"><span class="pre">resolve_paths_from_env()</span></code></a></li>
<li><a class="reference internal" href="#common.text.split_env_list"><code class="docutils literal notranslate"><span class="pre">split_env_list()</span></code></a></li>
<li><a class="reference internal" href="#common.text.title_index.TitleResolver"><code class="docutils literal notranslate"><span class="pre">TitleResolver</span></code></a><ul>
<li><a class="reference internal" href="#common.text.title_index.TitleResolver.__init__"><code class="docutils literal notranslate"><span class="pre">TitleResolver.__init__()</span></code></a></li>
<li><a class="reference internal" href="#common.text.title_index.TitleResolver.resolve"><code class="docutils literal notranslate"><span class="pre">TitleResolver.resolve()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.text.title_index.TitleResolverEnvConfig"><code class="docutils literal notranslate"><span class="pre">TitleResolverEnvConfig</span></code></a><ul>
<li><a class="reference internal" href="#common.text.title_index.TitleResolverEnvConfig.csv_var"><code class="docutils literal notranslate"><span class="pre">TitleResolverEnvConfig.csv_var</span></code></a></li>
<li><a class="reference internal" href="#common.text.title_index.TitleResolverEnvConfig.dirs_var"><code class="docutils literal notranslate"><span class="pre">TitleResolverEnvConfig.dirs_var</span></code></a></li>
<li><a class="reference internal" href="#common.text.title_index.TitleResolverEnvConfig.glob_var"><code class="docutils literal notranslate"><span class="pre">TitleResolverEnvConfig.glob_var</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.text.embeddings.SentenceTransformerConfig"><code class="docutils literal notranslate"><span class="pre">SentenceTransformerConfig</span></code></a><ul>
<li><a class="reference internal" href="#common.text.embeddings.SentenceTransformerConfig.batch_size"><code class="docutils literal notranslate"><span class="pre">SentenceTransformerConfig.batch_size</span></code></a></li>
<li><a class="reference internal" href="#common.text.embeddings.SentenceTransformerConfig.device"><code class="docutils literal notranslate"><span class="pre">SentenceTransformerConfig.device</span></code></a></li>
<li><a class="reference internal" href="#common.text.embeddings.SentenceTransformerConfig.model_name"><code class="docutils literal notranslate"><span class="pre">SentenceTransformerConfig.model_name</span></code></a></li>
<li><a class="reference internal" href="#common.text.embeddings.SentenceTransformerConfig.normalize"><code class="docutils literal notranslate"><span class="pre">SentenceTransformerConfig.normalize</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.text.embeddings.SentenceTransformerEncoder"><code class="docutils literal notranslate"><span class="pre">SentenceTransformerEncoder</span></code></a><ul>
<li><a class="reference internal" href="#common.text.embeddings.SentenceTransformerEncoder.__init__"><code class="docutils literal notranslate"><span class="pre">SentenceTransformerEncoder.__init__()</span></code></a></li>
<li><a class="reference internal" href="#common.text.embeddings.SentenceTransformerEncoder.embedding_dimension"><code class="docutils literal notranslate"><span class="pre">SentenceTransformerEncoder.embedding_dimension()</span></code></a></li>
<li><a class="reference internal" href="#common.text.embeddings.SentenceTransformerEncoder.encode"><code class="docutils literal notranslate"><span class="pre">SentenceTransformerEncoder.encode()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.text.embeddings.sentence_transformer_config_from_args"><code class="docutils literal notranslate"><span class="pre">sentence_transformer_config_from_args()</span></code></a></li>
<li><a class="reference internal" href="#module-common.evaluation.slate_eval">Evaluation Utilities</a><ul>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator</span></code></a><ul>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.correct"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.correct</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.eligible"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.eligible</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.formatted"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.formatted</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.histogram"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.histogram()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.parsed"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.parsed</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.ratio"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.ratio()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.record_correct"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.record_correct()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.record_eligible"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.record_eligible()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.record_formatted"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.record_formatted()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.record_parsed"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.record_parsed()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.record_seen"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.record_seen()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.seen"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.seen</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.BucketAccumulator.summary"><code class="docutils literal notranslate"><span class="pre">BucketAccumulator.summary()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator</span></code></a><ul>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.accuracy"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.accuracy()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.all_gold_indices"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.all_gold_indices</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.baseline_metrics"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.baseline_metrics()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.correct_multi"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.correct_multi</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.correct_overall"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.correct_overall</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.correct_single"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.correct_single</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.eligible_multi"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.eligible_multi</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.eligible_overall"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.eligible_overall</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.eligible_single"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.eligible_single</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.format_ok"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.format_ok</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.format_rate"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.format_rate()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.formatted_multi"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.formatted_multi</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.gold_hist"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.gold_hist</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.group_summary"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.group_summary()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.issue"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.issue</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.metrics_payload"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.metrics_payload()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.observe"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.observe()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.option_counts"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.option_counts</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.options"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.options</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.options_summary"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.options_summary()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.parsed_multi"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.parsed_multi</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.parsed_ok"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.parsed_ok</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.parsed_rate"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.parsed_rate()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.position"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.position</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.position_summary"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.position_summary()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.seen_multi"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.seen_multi</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.seen_single"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.seen_single</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.single_multi_summary"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.single_multi_summary()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.study"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.study</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationAccumulator.total_seen"><code class="docutils literal notranslate"><span class="pre">EvaluationAccumulator.total_seen</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationFilters"><code class="docutils literal notranslate"><span class="pre">EvaluationFilters</span></code></a><ul>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationFilters.issues"><code class="docutils literal notranslate"><span class="pre">EvaluationFilters.issues</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.EvaluationFilters.studies"><code class="docutils literal notranslate"><span class="pre">EvaluationFilters.studies</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.Observation"><code class="docutils literal notranslate"><span class="pre">Observation</span></code></a><ul>
<li><a class="reference internal" href="#common.evaluation.slate_eval.Observation.eligible"><code class="docutils literal notranslate"><span class="pre">Observation.eligible</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.Observation.gold_index"><code class="docutils literal notranslate"><span class="pre">Observation.gold_index</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.Observation.is_correct"><code class="docutils literal notranslate"><span class="pre">Observation.is_correct</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.Observation.is_formatted"><code class="docutils literal notranslate"><span class="pre">Observation.is_formatted</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.Observation.issue_label"><code class="docutils literal notranslate"><span class="pre">Observation.issue_label</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.Observation.option_bucket"><code class="docutils literal notranslate"><span class="pre">Observation.option_bucket</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.Observation.option_count"><code class="docutils literal notranslate"><span class="pre">Observation.option_count</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.Observation.parsed_index"><code class="docutils literal notranslate"><span class="pre">Observation.parsed_index</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.Observation.position_bucket"><code class="docutils literal notranslate"><span class="pre">Observation.position_bucket</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.Observation.study_label"><code class="docutils literal notranslate"><span class="pre">Observation.study_label</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.SlateMetricsRequest"><code class="docutils literal notranslate"><span class="pre">SlateMetricsRequest</span></code></a><ul>
<li><a class="reference internal" href="#common.evaluation.slate_eval.SlateMetricsRequest.dataset_name"><code class="docutils literal notranslate"><span class="pre">SlateMetricsRequest.dataset_name</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.SlateMetricsRequest.eval_split"><code class="docutils literal notranslate"><span class="pre">SlateMetricsRequest.eval_split</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.SlateMetricsRequest.filters"><code class="docutils literal notranslate"><span class="pre">SlateMetricsRequest.filters</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.SlateMetricsRequest.model_name"><code class="docutils literal notranslate"><span class="pre">SlateMetricsRequest.model_name</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.SlateMetricsRequest.option_order"><code class="docutils literal notranslate"><span class="pre">SlateMetricsRequest.option_order</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.SlateMetricsRequest.position_order"><code class="docutils literal notranslate"><span class="pre">SlateMetricsRequest.position_order</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.bucket_from_options"><code class="docutils literal notranslate"><span class="pre">bucket_from_options()</span></code></a></li>
<li><a class="reference internal" href="#common.evaluation.slate_eval.bucket_from_position"><code class="docutils literal notranslate"><span class="pre">bucket_from_position()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-common.prompts.docs">Prompt Document Utilities</a><ul>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder</span></code></a><ul>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.assemble_document"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.assemble_document()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.extract_now_watching"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.extract_now_watching()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.extract_slate_items"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.extract_slate_items()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.log_prefix"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.log_prefix</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.logger"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.logger</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.max_history"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.max_history</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.prepare_training_documents"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.prepare_training_documents()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.prompt_column"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.prompt_column</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.prompt_from_builder"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.prompt_from_builder()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.solution_column"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.solution_column</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.title_for"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.title_for()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.title_lookup"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.title_lookup</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.PromptDocumentBuilder.viewer_profile_sentence"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.viewer_profile_sentence()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.prompts.docs.create_prompt_document_builder"><code class="docutils literal notranslate"><span class="pre">create_prompt_document_builder()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.default_title_resolver"><code class="docutils literal notranslate"><span class="pre">default_title_resolver()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.load_trajectory_entries"><code class="docutils literal notranslate"><span class="pre">load_trajectory_entries()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.merge_default_extra_fields"><code class="docutils literal notranslate"><span class="pre">merge_default_extra_fields()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder</span></code></a><ul>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.assemble_document"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.assemble_document()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.extract_now_watching"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.extract_now_watching()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.extract_slate_items"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.extract_slate_items()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.log_prefix"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.log_prefix</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.logger"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.logger</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.max_history"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.max_history</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.prepare_training_documents"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.prepare_training_documents()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.prompt_column"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.prompt_column</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.prompt_from_builder"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.prompt_from_builder()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.solution_column"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.solution_column</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.title_for"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.title_for()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.title_lookup"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.title_lookup</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.builder.PromptDocumentBuilder.viewer_profile_sentence"><code class="docutils literal notranslate"><span class="pre">PromptDocumentBuilder.viewer_profile_sentence()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.prompts.docs.builder.create_prompt_document_builder"><code class="docutils literal notranslate"><span class="pre">create_prompt_document_builder()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.extra_fields.format_extra_field"><code class="docutils literal notranslate"><span class="pre">format_extra_field()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.extra_fields.merge_default_extra_fields"><code class="docutils literal notranslate"><span class="pre">merge_default_extra_fields()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.slate.extract_now_watching"><code class="docutils literal notranslate"><span class="pre">extract_now_watching()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.slate.extract_slate_items"><code class="docutils literal notranslate"><span class="pre">extract_slate_items()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.titles.default_title_resolver"><code class="docutils literal notranslate"><span class="pre">default_title_resolver()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.docs.trajectory.load_trajectory_entries"><code class="docutils literal notranslate"><span class="pre">load_trajectory_entries()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.CandidateMetadata"><code class="docutils literal notranslate"><span class="pre">CandidateMetadata</span></code></a><ul>
<li><a class="reference internal" href="#common.prompts.selection.CandidateMetadata.channel_id"><code class="docutils literal notranslate"><span class="pre">CandidateMetadata.channel_id</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.CandidateMetadata.channel_title"><code class="docutils literal notranslate"><span class="pre">CandidateMetadata.channel_title</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.CandidateMetadata.slot"><code class="docutils literal notranslate"><span class="pre">CandidateMetadata.slot</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.CandidateMetadata.title"><code class="docutils literal notranslate"><span class="pre">CandidateMetadata.title</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.CandidateMetadata.video_id"><code class="docutils literal notranslate"><span class="pre">CandidateMetadata.video_id</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper</span></code></a><ul>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.assemble_document"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.assemble_document()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.builder"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.builder</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.candidate_feature_tokens"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.candidate_feature_tokens()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.collect_candidate_metadata"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.collect_candidate_metadata()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.extract_now_watching"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.extract_now_watching()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.extract_slate_items"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.extract_slate_items()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.prepare_prompt_documents"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.prepare_prompt_documents()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.prepare_training_documents"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.prepare_training_documents()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.prompt_from_builder"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.prompt_from_builder()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.selection_feature_tokens"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.selection_feature_tokens()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.solution_column"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.solution_column</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.title_for"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.title_for()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.PromptSelectionHelper.viewer_profile_sentence"><code class="docutils literal notranslate"><span class="pre">PromptSelectionHelper.viewer_profile_sentence()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.prompts.selection.assemble_document"><code class="docutils literal notranslate"><span class="pre">assemble_document()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.bind_prompt_selection_exports"><code class="docutils literal notranslate"><span class="pre">bind_prompt_selection_exports()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.candidate_feature_tokens"><code class="docutils literal notranslate"><span class="pre">candidate_feature_tokens()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.collect_candidate_metadata"><code class="docutils literal notranslate"><span class="pre">collect_candidate_metadata()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.extract_now_watching"><code class="docutils literal notranslate"><span class="pre">extract_now_watching()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.extract_slate_items"><code class="docutils literal notranslate"><span class="pre">extract_slate_items()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.prepare_prompt_documents"><code class="docutils literal notranslate"><span class="pre">prepare_prompt_documents()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.prepare_training_documents"><code class="docutils literal notranslate"><span class="pre">prepare_training_documents()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.prompt_from_builder"><code class="docutils literal notranslate"><span class="pre">prompt_from_builder()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.selection_feature_tokens"><code class="docutils literal notranslate"><span class="pre">selection_feature_tokens()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.title_for"><code class="docutils literal notranslate"><span class="pre">title_for()</span></code></a></li>
<li><a class="reference internal" href="#common.prompts.selection.viewer_profile_sentence"><code class="docutils literal notranslate"><span class="pre">viewer_profile_sentence()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-common.opinion">Opinion Utilities</a><ul>
<li><a class="reference internal" href="#common.opinion.AccuracySummary"><code class="docutils literal notranslate"><span class="pre">AccuracySummary</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.AccuracySummary.baseline"><code class="docutils literal notranslate"><span class="pre">AccuracySummary.baseline</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.AccuracySummary.delta"><code class="docutils literal notranslate"><span class="pre">AccuracySummary.delta</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.AccuracySummary.eligible"><code class="docutils literal notranslate"><span class="pre">AccuracySummary.eligible</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.AccuracySummary.value"><code class="docutils literal notranslate"><span class="pre">AccuracySummary.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.accuracy"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.accuracy</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.accuracy_delta"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.accuracy_delta</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.accuracy_summary"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.accuracy_summary</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.artifact"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.artifact</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.baseline_accuracy"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.baseline_accuracy</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.config"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.config</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.eligible"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.eligible</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.mae"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.mae</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.metrics"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.metrics</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.metrics_path"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.metrics_path</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.order_index"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.order_index</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.rmse"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.rmse</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepOutcome.study"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepTask"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepTask</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepTask.config"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepTask.config</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepTask.index"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepTask.index</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepTask.metrics_path"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepTask.metrics_path</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseOpinionSweepTask.study"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepTask.study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.BaseSweepTask"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.BaseSweepTask.base_cli"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.base_cli</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseSweepTask.config"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.config</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseSweepTask.extra_cli"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.extra_cli</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseSweepTask.index"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.index</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseSweepTask.metrics_path"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.metrics_path</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseSweepTask.run_root"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.run_root</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.BaseSweepTask.study"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.MetricsArtifact"><code class="docutils literal notranslate"><span class="pre">MetricsArtifact</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.MetricsArtifact.path"><code class="docutils literal notranslate"><span class="pre">MetricsArtifact.path</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.MetricsArtifact.payload"><code class="docutils literal notranslate"><span class="pre">MetricsArtifact.payload</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.OpinionArtifacts"><code class="docutils literal notranslate"><span class="pre">OpinionArtifacts</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.OpinionArtifacts.metrics"><code class="docutils literal notranslate"><span class="pre">OpinionArtifacts.metrics</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionArtifacts.predictions"><code class="docutils literal notranslate"><span class="pre">OpinionArtifacts.predictions</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionArtifacts.qa_log"><code class="docutils literal notranslate"><span class="pre">OpinionArtifacts.qa_log</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.accuracy_delta"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.accuracy_delta</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.baseline_accuracy"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.baseline_accuracy</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.baseline_calibration_ece"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.baseline_calibration_ece</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.baseline_calibration_intercept"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.baseline_calibration_intercept</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.baseline_calibration_slope"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.baseline_calibration_slope</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.baseline_kl_divergence_change"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.baseline_kl_divergence_change</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.calibration_ece"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.calibration_ece</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.calibration_intercept"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.calibration_intercept</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.calibration_slope"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.calibration_slope</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.dataset"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.dataset</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.eligible"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.eligible</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.kl_divergence_change"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.kl_divergence_change</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.participants"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.participants</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionCalibrationMetrics.split"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.split</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.OpinionEvaluationResult"><code class="docutils literal notranslate"><span class="pre">OpinionEvaluationResult</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.OpinionEvaluationResult.combined_metrics"><code class="docutils literal notranslate"><span class="pre">OpinionEvaluationResult.combined_metrics</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionEvaluationResult.config_label"><code class="docutils literal notranslate"><span class="pre">OpinionEvaluationResult.config_label</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionEvaluationResult.get"><code class="docutils literal notranslate"><span class="pre">OpinionEvaluationResult.get()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionEvaluationResult.items"><code class="docutils literal notranslate"><span class="pre">OpinionEvaluationResult.items()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionEvaluationResult.keys"><code class="docutils literal notranslate"><span class="pre">OpinionEvaluationResult.keys()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionEvaluationResult.studies"><code class="docutils literal notranslate"><span class="pre">OpinionEvaluationResult.studies</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionEvaluationResult.values"><code class="docutils literal notranslate"><span class="pre">OpinionEvaluationResult.values()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.OpinionExample"><code class="docutils literal notranslate"><span class="pre">OpinionExample</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.OpinionExample.after"><code class="docutils literal notranslate"><span class="pre">OpinionExample.after</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionExample.before"><code class="docutils literal notranslate"><span class="pre">OpinionExample.before</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionExample.document"><code class="docutils literal notranslate"><span class="pre">OpinionExample.document</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionExample.issue"><code class="docutils literal notranslate"><span class="pre">OpinionExample.issue</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionExample.participant_id"><code class="docutils literal notranslate"><span class="pre">OpinionExample.participant_id</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionExample.participant_study"><code class="docutils literal notranslate"><span class="pre">OpinionExample.participant_study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.OpinionExampleInputs"><code class="docutils literal notranslate"><span class="pre">OpinionExampleInputs</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.OpinionExampleInputs.after"><code class="docutils literal notranslate"><span class="pre">OpinionExampleInputs.after</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionExampleInputs.before"><code class="docutils literal notranslate"><span class="pre">OpinionExampleInputs.before</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionExampleInputs.document"><code class="docutils literal notranslate"><span class="pre">OpinionExampleInputs.document</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionExampleInputs.participant_id"><code class="docutils literal notranslate"><span class="pre">OpinionExampleInputs.participant_id</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.accuracy"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.accuracy</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.accuracy_delta"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.accuracy_delta</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.baseline_accuracy"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.baseline_accuracy</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.baseline_calibration_ece"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.baseline_calibration_ece</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.baseline_kl_divergence_change"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.baseline_kl_divergence_change</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.baseline_mae"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.baseline_mae</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.baseline_rmse_change"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.baseline_rmse_change</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.calibration_ece"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.calibration_ece</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.kl_divergence_change"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.kl_divergence_change</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.mae"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.mae</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.mae_delta"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.mae_delta</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.participants"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.participants</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionMetricsView.rmse_change"><code class="docutils literal notranslate"><span class="pre">OpinionMetricsView.rmse_change</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.OpinionSpec"><code class="docutils literal notranslate"><span class="pre">OpinionSpec</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.OpinionSpec.after_column"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.after_column</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionSpec.before_column"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.before_column</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionSpec.build_example_kwargs"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.build_example_kwargs()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionSpec.issue"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.issue</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionSpec.key"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.key</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionSpec.label"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.label</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.artifacts"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.artifacts</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.baseline"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.baseline</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.eligible"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.eligible</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.issue"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.issue</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.metrics"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.metrics</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.metrics_path"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.metrics_path</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.participants"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.participants</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.predictions_path"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.predictions_path</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.qa_log_path"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.qa_log_path</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.spec"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.spec</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.study_key"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.study_key</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.OpinionStudyResult.study_label"><code class="docutils literal notranslate"><span class="pre">OpinionStudyResult.study_label</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.build_opinion_example"><code class="docutils literal notranslate"><span class="pre">build_opinion_example()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.compute_opinion_metrics"><code class="docutils literal notranslate"><span class="pre">compute_opinion_metrics()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.ensure_train_examples"><code class="docutils literal notranslate"><span class="pre">ensure_train_examples()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.exclude_eval_participants"><code class="docutils literal notranslate"><span class="pre">exclude_eval_participants()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.float_or_none"><code class="docutils literal notranslate"><span class="pre">float_or_none()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.format_opinion_user_prompt"><code class="docutils literal notranslate"><span class="pre">format_opinion_user_prompt()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.log_participant_counts"><code class="docutils literal notranslate"><span class="pre">log_participant_counts()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.make_opinion_example"><code class="docutils literal notranslate"><span class="pre">make_opinion_example()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.make_opinion_example_from_values"><code class="docutils literal notranslate"><span class="pre">make_opinion_example_from_values()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.make_opinion_inputs"><code class="docutils literal notranslate"><span class="pre">make_opinion_inputs()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.opinion_example_kwargs"><code class="docutils literal notranslate"><span class="pre">opinion_example_kwargs()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.summarise_opinion_metrics"><code class="docutils literal notranslate"><span class="pre">summarise_opinion_metrics()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.accuracy_delta"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.accuracy_delta</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.baseline_accuracy"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.baseline_accuracy</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.baseline_calibration_ece"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.baseline_calibration_ece</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.baseline_calibration_intercept"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.baseline_calibration_intercept</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.baseline_calibration_slope"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.baseline_calibration_slope</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.baseline_kl_divergence_change"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.baseline_kl_divergence_change</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.calibration_ece"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.calibration_ece</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.calibration_intercept"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.calibration_intercept</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.calibration_slope"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.calibration_slope</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.dataset"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.dataset</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.eligible"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.eligible</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.kl_divergence_change"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.kl_divergence_change</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.participants"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.participants</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionCalibrationMetrics.split"><code class="docutils literal notranslate"><span class="pre">OpinionCalibrationMetrics.split</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.models.OpinionExample"><code class="docutils literal notranslate"><span class="pre">OpinionExample</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.models.OpinionExample.after"><code class="docutils literal notranslate"><span class="pre">OpinionExample.after</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionExample.before"><code class="docutils literal notranslate"><span class="pre">OpinionExample.before</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionExample.document"><code class="docutils literal notranslate"><span class="pre">OpinionExample.document</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionExample.issue"><code class="docutils literal notranslate"><span class="pre">OpinionExample.issue</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionExample.participant_id"><code class="docutils literal notranslate"><span class="pre">OpinionExample.participant_id</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionExample.participant_study"><code class="docutils literal notranslate"><span class="pre">OpinionExample.participant_study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.models.OpinionExampleInputs"><code class="docutils literal notranslate"><span class="pre">OpinionExampleInputs</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.models.OpinionExampleInputs.after"><code class="docutils literal notranslate"><span class="pre">OpinionExampleInputs.after</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionExampleInputs.before"><code class="docutils literal notranslate"><span class="pre">OpinionExampleInputs.before</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionExampleInputs.document"><code class="docutils literal notranslate"><span class="pre">OpinionExampleInputs.document</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionExampleInputs.participant_id"><code class="docutils literal notranslate"><span class="pre">OpinionExampleInputs.participant_id</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.models.OpinionSpec"><code class="docutils literal notranslate"><span class="pre">OpinionSpec</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.models.OpinionSpec.after_column"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.after_column</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionSpec.before_column"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.before_column</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionSpec.build_example_kwargs"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.build_example_kwargs()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionSpec.issue"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.issue</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionSpec.key"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.key</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.OpinionSpec.label"><code class="docutils literal notranslate"><span class="pre">OpinionSpec.label</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.models.build_opinion_example"><code class="docutils literal notranslate"><span class="pre">build_opinion_example()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.float_or_none"><code class="docutils literal notranslate"><span class="pre">float_or_none()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.make_opinion_example"><code class="docutils literal notranslate"><span class="pre">make_opinion_example()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.make_opinion_inputs"><code class="docutils literal notranslate"><span class="pre">make_opinion_inputs()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.models.opinion_example_kwargs"><code class="docutils literal notranslate"><span class="pre">opinion_example_kwargs()</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.AccuracySummary"><code class="docutils literal notranslate"><span class="pre">AccuracySummary</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.sweep_types.AccuracySummary.baseline"><code class="docutils literal notranslate"><span class="pre">AccuracySummary.baseline</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.AccuracySummary.delta"><code class="docutils literal notranslate"><span class="pre">AccuracySummary.delta</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.AccuracySummary.eligible"><code class="docutils literal notranslate"><span class="pre">AccuracySummary.eligible</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.AccuracySummary.value"><code class="docutils literal notranslate"><span class="pre">AccuracySummary.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.accuracy"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.accuracy</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.accuracy_delta"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.accuracy_delta</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.accuracy_summary"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.accuracy_summary</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.artifact"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.artifact</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.baseline_accuracy"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.baseline_accuracy</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.config"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.config</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.eligible"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.eligible</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.mae"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.mae</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.metrics"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.metrics</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.metrics_path"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.metrics_path</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.order_index"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.order_index</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.rmse"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.rmse</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepOutcome.study"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepOutcome.study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepTask"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepTask</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepTask.config"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepTask.config</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepTask.index"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepTask.index</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepTask.metrics_path"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepTask.metrics_path</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseOpinionSweepTask.study"><code class="docutils literal notranslate"><span class="pre">BaseOpinionSweepTask.study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseSweepTask"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseSweepTask.base_cli"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.base_cli</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseSweepTask.config"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.config</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseSweepTask.extra_cli"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.extra_cli</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseSweepTask.index"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.index</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseSweepTask.metrics_path"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.metrics_path</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseSweepTask.run_root"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.run_root</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.BaseSweepTask.study"><code class="docutils literal notranslate"><span class="pre">BaseSweepTask.study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.opinion.sweep_types.MetricsArtifact"><code class="docutils literal notranslate"><span class="pre">MetricsArtifact</span></code></a><ul>
<li><a class="reference internal" href="#common.opinion.sweep_types.MetricsArtifact.path"><code class="docutils literal notranslate"><span class="pre">MetricsArtifact.path</span></code></a></li>
<li><a class="reference internal" href="#common.opinion.sweep_types.MetricsArtifact.payload"><code class="docutils literal notranslate"><span class="pre">MetricsArtifact.payload</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-common.pipeline.types">Pipeline Types</a><ul>
<li><a class="reference internal" href="#common.pipeline.types.BasePipelineSweepOutcome"><code class="docutils literal notranslate"><span class="pre">BasePipelineSweepOutcome</span></code></a><ul>
<li><a class="reference internal" href="#common.pipeline.types.BasePipelineSweepOutcome.config"><code class="docutils literal notranslate"><span class="pre">BasePipelineSweepOutcome.config</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.BasePipelineSweepOutcome.metrics"><code class="docutils literal notranslate"><span class="pre">BasePipelineSweepOutcome.metrics</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.BasePipelineSweepOutcome.metrics_path"><code class="docutils literal notranslate"><span class="pre">BasePipelineSweepOutcome.metrics_path</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.BasePipelineSweepOutcome.order_index"><code class="docutils literal notranslate"><span class="pre">BasePipelineSweepOutcome.order_index</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.BasePipelineSweepOutcome.study"><code class="docutils literal notranslate"><span class="pre">BasePipelineSweepOutcome.study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.pipeline.types.OpinionStudySelection"><code class="docutils literal notranslate"><span class="pre">OpinionStudySelection</span></code></a><ul>
<li><a class="reference internal" href="#common.pipeline.types.OpinionStudySelection.config"><code class="docutils literal notranslate"><span class="pre">OpinionStudySelection.config</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.OpinionStudySelection.outcome"><code class="docutils literal notranslate"><span class="pre">OpinionStudySelection.outcome</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.OpinionStudySelection.study"><code class="docutils literal notranslate"><span class="pre">OpinionStudySelection.study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.pipeline.types.StudySelection"><code class="docutils literal notranslate"><span class="pre">StudySelection</span></code></a><ul>
<li><a class="reference internal" href="#common.pipeline.types.StudySelection.config"><code class="docutils literal notranslate"><span class="pre">StudySelection.config</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.StudySelection.evaluation_slug"><code class="docutils literal notranslate"><span class="pre">StudySelection.evaluation_slug</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.StudySelection.outcome"><code class="docutils literal notranslate"><span class="pre">StudySelection.outcome</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.StudySelection.study"><code class="docutils literal notranslate"><span class="pre">StudySelection.study</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.pipeline.types.StudySpec"><code class="docutils literal notranslate"><span class="pre">StudySpec</span></code></a><ul>
<li><a class="reference internal" href="#common.pipeline.types.StudySpec.evaluation_slug"><code class="docutils literal notranslate"><span class="pre">StudySpec.evaluation_slug</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.StudySpec.issue"><code class="docutils literal notranslate"><span class="pre">StudySpec.issue</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.StudySpec.issue_slug"><code class="docutils literal notranslate"><span class="pre">StudySpec.issue_slug</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.StudySpec.key"><code class="docutils literal notranslate"><span class="pre">StudySpec.key</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.StudySpec.label"><code class="docutils literal notranslate"><span class="pre">StudySpec.label</span></code></a></li>
<li><a class="reference internal" href="#common.pipeline.types.StudySpec.study_slug"><code class="docutils literal notranslate"><span class="pre">StudySpec.study_slug</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#common.pipeline.types.narrow_opinion_selection"><code class="docutils literal notranslate"><span class="pre">narrow_opinion_selection()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-common.reports">Reporting Utilities</a></li>
<li><a class="reference internal" href="#module-common.visualization">Visualization Defaults</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>